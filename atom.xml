<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Nan&#39;s Blog</title>
  
  <subtitle>俱往昔，数风流人物，还看今朝！</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="/"/>
  <updated>2018-12-10T12:01:46.541Z</updated>
  <id>/</id>
  
  <author>
    <name>马亮南生</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>用VNC搭建Ubuntu VNC可视化界面</title>
    <link href="/2018/12/10/%E7%94%A8VNC%E6%90%AD%E5%BB%BAUbuntu%20VNC%E5%8F%AF%E8%A7%86%E5%8C%96%E7%95%8C%E9%9D%A2/"/>
    <id>/2018/12/10/用VNC搭建Ubuntu VNC可视化界面/</id>
    <published>2018-12-10T11:48:46.000Z</published>
    <updated>2018-12-10T12:01:46.541Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装配置软件"><a href="#安装配置软件" class="headerlink" title="安装配置软件"></a>安装配置软件</h2><ul><li><h3 id="VNC的安装与配置"><a href="#VNC的安装与配置" class="headerlink" title="VNC的安装与配置"></a>VNC的安装与配置</h3><p>安装之前先输入（获取最新套件的信息）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p>输入以下命令安装VNC，安装过程中需要输入Y来确认</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install vnc4server</span><br></pre></td></tr></table></figure><p>启动VNC（第一次启动需要设置密码）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver</span><br></pre></td></tr></table></figure><h3 id="设置vncserver开机启动（待完善…）"><a href="#设置vncserver开机启动（待完善…）" class="headerlink" title="设置vncserver开机启动（待完善…）"></a>设置vncserver开机启动（待完善…）</h3><ul><li><strong>设置启动脚本</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo touch /etc/init.d/vncserver</span><br><span class="line">sudo chmod +x /etc/init.d/vncserver</span><br><span class="line">sudo vi /etc/init.d/vncserver</span><br></pre></td></tr></table></figure><p>写入以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">### BEGIN INIT INFO</span><br><span class="line"># Provides:          vnc4server</span><br><span class="line"># Required-Start:    $local_fs $network</span><br><span class="line"># Required-Stop:     $local_fs</span><br><span class="line"># Default-Start:     2 3 4 5</span><br><span class="line"># Default-Stop:      0 1 6</span><br><span class="line"># Short-Description: VNC</span><br><span class="line"># Description:       VNC Service</span><br><span class="line">### END INIT INFO</span><br><span class="line">case &quot;$1&quot; in</span><br><span class="line">start)</span><br><span class="line">#su  -c &quot;vncserver -depth 32 -geometry 1024x768&quot; root</span><br><span class="line">su  -c &quot;vncserver -geometry 1440x900&quot; username</span><br><span class="line">#su  -c &quot;vncserver&quot; root</span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line">vncserver -kill :1</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo $&quot;Usage: $0 &#123;start|stop&#125;&quot;</span><br><span class="line">exit 1</span><br><span class="line">esac</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><ul><li><strong>将它加入启动项将它加入启动项</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d vncserver defaults 99</span><br></pre></td></tr></table></figure></li><li><h3 id="gnome-桌面环境安装与配置（可直接跳至第3步）"><a href="#gnome-桌面环境安装与配置（可直接跳至第3步）" class="headerlink" title="gnome 桌面环境安装与配置（可直接跳至第3步）"></a>gnome 桌面环境安装与配置（可直接跳至第3步）</h3><p>安装x－windows的基础</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install x-window-system-core</span><br></pre></td></tr></table></figure><p>安装登录管理器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gdm</span><br></pre></td></tr></table></figure><p>安装Ubuntu的桌面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ubuntu-desktop</span><br></pre></td></tr></table></figure><p>安装gnome配套软件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal</span><br></pre></td></tr></table></figure><p><strong>修改VNC配置文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi ~/.vnc/xstartup</span><br></pre></td></tr></table></figure><p><strong>修改为：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"># Uncomment the following two lines for normal desktop:</span><br><span class="line">export XKL_XMODMAP_DISABLE=1</span><br><span class="line"> unset SESSION_MANAGER</span><br><span class="line"># exec /etc/X11/xinit/xinitrc</span><br><span class="line">unset DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">gnome-panel &amp;</span><br><span class="line">gnmoe-settings-daemon &amp;</span><br><span class="line">metacity &amp;</span><br><span class="line">nautilus &amp;</span><br><span class="line">gnome-terminal &amp;</span><br></pre></td></tr></table></figure><p>杀掉原桌面进程，输入命令（其中的:1是桌面号）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -kill :1</span><br></pre></td></tr></table></figure><p>输入以下命令生成新的会话：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :1</span><br></pre></td></tr></table></figure></li></ul><h2 id="ubuntu卸载gnome桌面（可直接跳至第3步）"><a href="#ubuntu卸载gnome桌面（可直接跳至第3步）" class="headerlink" title="ubuntu卸载gnome桌面（可直接跳至第3步）"></a>ubuntu卸载gnome桌面（可直接跳至第3步）</h2><p> 之前安装好了ubuntu18.04，本来想装个gnome shell来美化一下桌面，结果出现了开机黑屏（灰屏）的现象，经网上查询发现是显卡驱动在gnome3的环境下产生了不兼容，具体解决方法我还没找到，情急之下只能先卸载掉gnome桌面环境。</p><ul><li><h3 id="卸载掉gnome-shell主程序"><a href="#卸载掉gnome-shell主程序" class="headerlink" title="卸载掉gnome-shell主程序"></a>卸载掉gnome-shell主程序</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove gnome-shell</span><br></pre></td></tr></table></figure></li><li><h3 id="卸载掉gnome"><a href="#卸载掉gnome" class="headerlink" title="卸载掉gnome"></a>卸载掉gnome</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove gnome</span><br></pre></td></tr></table></figure></li><li><h3 id="卸载不需要的依赖关系"><a href="#卸载不需要的依赖关系" class="headerlink" title="卸载不需要的依赖关系"></a>卸载不需要的依赖关系</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure></li><li><h3 id="彻底卸载删除gnome的相关配置文件"><a href="#彻底卸载删除gnome的相关配置文件" class="headerlink" title="彻底卸载删除gnome的相关配置文件"></a>彻底卸载删除gnome的相关配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge gnome</span><br></pre></td></tr></table></figure></li><li><h3 id="清理安装gnome时候留下的缓存程序软件包"><a href="#清理安装gnome时候留下的缓存程序软件包" class="headerlink" title="清理安装gnome时候留下的缓存程序软件包"></a>清理安装gnome时候留下的缓存程序软件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoclean</span><br><span class="line">sudo apt-get clean</span><br></pre></td></tr></table></figure></li></ul><h2 id="ubuntu运行VNC-Server无桌面时的解决方案"><a href="#ubuntu运行VNC-Server无桌面时的解决方案" class="headerlink" title="ubuntu运行VNC Server无桌面时的解决方案"></a>ubuntu运行VNC Server无桌面时的解决方案</h2><p>配置vnc server实在是一个特别诡异的事，我在不同的ubuntu机器上配置服务时，总是遇到千奇百怪的问题，大部分情况下比较顺利，将<code>~/.vnc/xstartup</code>最后一句<code>x-window-manager&amp;</code>替换为<code>gnome-session&amp;</code>就能顺利地出现桌面，而有些则不行，需要改为<code>gnome-session --session=ubuntu-2d&amp;</code></p><ul><li><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>而今天遇到的ubuntu 18.04，则死活不行，用realvnc viewer连接之后，只有灰灰的一个背景，没有桌面，没有terminal。</p><p>查阅了很多博文，有说需要安装<code>gnome-session-fallback</code>的，有说需要安装<code>gdm</code>的，也有用<code>kde</code>的，除了kde我没有尝试，另外两种验证无效，依然只有一个灰色背景。</p><p>最后用xfce4桌面解决，选择些方案一是因为xfce相对较小，gnome-session死活不行的情况下，再将一个kde未免太过兴师动众，xfce我使用过一段时间，是一个相当轻量级的GUI环境，清爽易用，功能一点不含糊。决定之后，一次尝试即成功。</p></li><li><h3 id="安装xfce"><a href="#安装xfce" class="headerlink" title="安装xfce"></a>安装xfce</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-core xfce4</span><br></pre></td></tr></table></figure></li><li><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>编辑<code>~/.vnc/xstartup</code>文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">unset SESSION_MANAGER</span><br><span class="line">unset DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">startxfce4 &amp;</span><br><span class="line">[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup</span><br><span class="line">[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources</span><br><span class="line">xsetroot -solid grey</span><br><span class="line">vncconfig -iconic &amp;</span><br></pre></td></tr></table></figure><p>输入以下命令生成新的会话：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :1</span><br></pre></td></tr></table></figure></li></ul><h2 id="本地使用VNC连接"><a href="#本地使用VNC连接" class="headerlink" title="本地使用VNC连接"></a>本地使用VNC连接</h2><ol><li>本地安装VNC后，使用ip地址:1（其中的:1是桌面号）的方式连接</li><li>输入之前设置的VNC密码后点击连接</li></ol><h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><ul><li><h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p><a href="https://www.realvnc.com/en/connect/download/viewer/" target="_blank" rel="noopener">VNC Viewer和VNC Server</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;安装配置软件&quot;&gt;&lt;a href=&quot;#安装配置软件&quot; class=&quot;headerlink&quot; title=&quot;安装配置软件&quot;&gt;&lt;/a&gt;安装配置软件&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;VNC的安装与配置&quot;&gt;&lt;a href=&quot;#VNC的安装与配置&quot; class=&quot;h
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="技巧" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="配置" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="Ubuntu" scheme="/tags/Ubuntu/"/>
    
      <category term="VNC" scheme="/tags/VNC/"/>
    
  </entry>
  
  <entry>
    <title>Linux下安装Java JDK8</title>
    <link href="/2018/12/10/Linux%E4%B8%8B%E5%AE%89%E8%A3%85Java-JDK8/"/>
    <id>/2018/12/10/Linux下安装Java-JDK8/</id>
    <published>2018-12-10T11:44:56.000Z</published>
    <updated>2018-12-10T11:46:35.507Z</updated>
    
    <content type="html"><![CDATA[<ul><li><h3 id="手动下载压缩包安装oracle-Java-JDK"><a href="#手动下载压缩包安装oracle-Java-JDK" class="headerlink" title="手动下载压缩包安装oracle Java JDK"></a>手动下载压缩包安装oracle Java JDK</h3><ol><li><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">前往oracle Java官网下载JDK</a></p></li><li><p>解压缩到指定目录（以jdk-8u144-linux-x64.tar.gz为例）</p><ul><li><p>创建目录:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/lib/jvm</span><br></pre></td></tr></table></figure></li><li><p>解压缩到该目录:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxvf jdk-7u60-linux-x64.gz -C /usr/lib/jvm</span><br></pre></td></tr></table></figure></li></ul></li><li><p>修改环境变量:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi ~/.bashrc</span><br></pre></td></tr></table></figure><p>在文件末尾追加下面内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#set oracle jdk environment</span><br><span class="line">export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144  ## 这里要注意目录要换成自己解压的jdk 目录</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre  </span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib  </span><br><span class="line">export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span><br></pre></td></tr></table></figure><p>使环境变量马上生效：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>查看java版本，看看是否安装成功：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure></li></ol></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;手动下载压缩包安装oracle-Java-JDK&quot;&gt;&lt;a href=&quot;#手动下载压缩包安装oracle-Java-JDK&quot; class=&quot;headerlink&quot; title=&quot;手动下载压缩包安装oracle Java JDK&quot;&gt;&lt;/a&gt;手动下载压
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="技巧" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="配置" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu的使用技巧</title>
    <link href="/2018/12/10/Ubuntu%E7%9A%84%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>/2018/12/10/Ubuntu的使用技巧/</id>
    <published>2018-12-10T11:21:02.000Z</published>
    <updated>2018-12-10T11:50:33.608Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Ubuntu-修改用户名（将admin改为test）"><a href="#Ubuntu-修改用户名（将admin改为test）" class="headerlink" title="Ubuntu 修改用户名（将admin改为test）"></a>Ubuntu 修改用户名（将admin改为test）</h2><p>由于开始装系统时，用户名脑残打错了，后来强迫症想去更改用户名，所以网上找了一个比较详细的方法</p><ul><li><h3 id="修改-etc-passwd用户信息文件"><a href="#修改-etc-passwd用户信息文件" class="headerlink" title="修改 /etc/passwd用户信息文件"></a>修改 /etc/passwd用户信息文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/passwd</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#admin:x:1001:1001:admin,,,:/home/admin:/bin/bash</span><br><span class="line">#把用户名admin改成rest</span><br><span class="line">#test:x:1001:1001:admin,,,:/home/test:/bin/bash</span><br></pre></td></tr></table></figure><p><strong>注：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin:x:1001:1001:admin,,,:/home/admin:/bin/bash</span><br><span class="line">中的admin,,,不可修改，若修改后重启，你将会因为密码错误而不能成功登入系统（只得去机房重新注册用户了）</span><br></pre></td></tr></table></figure></li><li><h3 id="修改-etc-shadow用户密码文件"><a href="#修改-etc-shadow用户密码文件" class="headerlink" title="修改 /etc/shadow用户密码文件"></a>修改 /etc/shadow用户密码文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadow</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#admin:Dnakfw28zf38w:8764:0:168:7:::</span><br><span class="line">#由于密码加密方式存放，只修改用户名即可（密码不变）</span><br><span class="line">#test:Dnakfw28zf38w:8764:0:168:7:::</span><br></pre></td></tr></table></figure></li><li><h3 id="再修改-etc-group用户组文件"><a href="#再修改-etc-group用户组文件" class="headerlink" title="再修改 /etc/group用户组文件"></a>再修改 /etc/group用户组文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/group</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#admin:x:1:root,bin,admin</span><br><span class="line">#修改admin组为test组</span><br><span class="line">#test:x:1:root,bin,test</span><br></pre></td></tr></table></figure></li><li><h3 id="修改用户的家目录"><a href="#修改用户的家目录" class="headerlink" title="修改用户的家目录"></a>修改用户的家目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /home/admin /home/test</span><br></pre></td></tr></table></figure></li><li><h3 id="xx-is-not-in-the-sudoers-file-问题解决"><a href="#xx-is-not-in-the-sudoers-file-问题解决" class="headerlink" title="xx is not in the sudoers file 问题解决"></a>xx is not in the sudoers file 问题解决</h3><p>首先利用whereis 命令查找sudoers配置文件的目录（默认会在/etc/sudoers)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis sudoers</span><br></pre></td></tr></table></figure><p>然后就可以利用vi编辑器来把用户添加到sudoers之中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sudoers</span><br></pre></td></tr></table></figure><p>然后找到root    ALL=(ALL)       ALL 或者 root    ALL=(ALL:ALL) ALL所在的位置，把所要添加的用户添加到文件之中</p><p>下面是添加完的结果。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Allow root to run any commands anywhere</span><br><span class="line"></span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">maliangALL=(ALL)       ALL（这一行是添加的内容，maliang是我的用户名）</span><br></pre></td></tr></table></figure></li></ul><h2 id="修改用户密码"><a href="#修改用户密码" class="headerlink" title="修改用户密码"></a>修改用户密码</h2><p>在终端运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd username</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">改变口令为 username。</span><br><span class="line">(当前)UNIX 口令：&lt;输入现在的密码&gt; </span><br><span class="line">输入新的 UNIX 口令： &lt;输入新密码&gt; </span><br><span class="line">重新输入新的 UNIX 口令：&lt;重新输入新密码&gt;</span><br><span class="line"></span><br><span class="line">passwd：已成功更新密码</span><br></pre></td></tr></table></figure><h2 id="开启root用户和使用root用户登陆"><a href="#开启root用户和使用root用户登陆" class="headerlink" title="开启root用户和使用root用户登陆"></a>开启root用户和使用root用户登陆</h2><ol><li><h3 id="开启root用户"><a href="#开启root用户" class="headerlink" title="开启root用户"></a>开启root用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure></li><li><h3 id="使用root用户登陆"><a href="#使用root用户登陆" class="headerlink" title="使用root用户登陆"></a>使用root用户登陆</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf</span><br></pre></td></tr></table></figure><p>在最后增加<code>greeter-show-manual-login=true</code><br>保存退出。注销后可看到登陆框已显示，可输入用户名</p></li><li><h3 id="关闭guest用户"><a href="#关闭guest用户" class="headerlink" title="关闭guest用户"></a>关闭guest用户</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf</span><br></pre></td></tr></table></figure><p>在最后增加<code>allow-guest=false</code><br>保存退出。注销后可看到已经没有guest用户登陆的选项。</p></li></ol><h2 id="找出文件所在的位置"><a href="#找出文件所在的位置" class="headerlink" title="找出文件所在的位置"></a>找出文件所在的位置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis sudoers（你要找的文件名）</span><br></pre></td></tr></table></figure><h2 id="查看端口占用并杀死-kill"><a href="#查看端口占用并杀死-kill" class="headerlink" title="查看端口占用并杀死(kill)"></a>查看端口占用并杀死(kill)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查看</span><br><span class="line">sudo netstat -tlnp|grep 9090</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 杀死</span><br><span class="line">kill -9 31540</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Ubuntu-修改用户名（将admin改为test）&quot;&gt;&lt;a href=&quot;#Ubuntu-修改用户名（将admin改为test）&quot; class=&quot;headerlink&quot; title=&quot;Ubuntu 修改用户名（将admin改为test）&quot;&gt;&lt;/a&gt;Ubuntu 修
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="技巧" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="配置" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="Ubuntu" scheme="/tags/Ubuntu/"/>
    
  </entry>
  
</feed>
