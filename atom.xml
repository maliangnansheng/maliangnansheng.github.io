<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Nan&#39;s Blog</title>
  
  <subtitle>å¼±è€…æ‰è¨€å‘½ï¼Œå¼ºè€…åªè¨€è¿ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="/"/>
  <updated>2019-02-14T03:11:54.199Z</updated>
  <id>/</id>
  
  <author>
    <name>é©¬äº®å—ç”Ÿ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Reactä¸Šæ‰‹æŠ€å·§</title>
    <link href="/2019/02/14/React%E4%B8%8A%E6%89%8B%E6%8A%80%E5%B7%A7/"/>
    <id>/2019/02/14/Reactä¸Šæ‰‹æŠ€å·§/</id>
    <published>2019-02-14T02:41:03.000Z</published>
    <updated>2019-02-14T03:11:54.199Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº"><a href="#åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº" class="headerlink" title="åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº"></a>åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº</h2><p>å‚è§ï¼š<a href="https://blog.csdn.net/tiangongkaiwu152368/article/details/80847494" target="_blank" rel="noopener">https://blog.csdn.net/tiangongkaiwu152368/article/details/80847494</a></p><h3 id="å®‰è£…node"><a href="#å®‰è£…node" class="headerlink" title="å®‰è£…node"></a>å®‰è£…node</h3><p>æˆ‘ä»¬è¦ç”¨create-react-appæ¥å¼€å‘reactï¼Œé¦–å…ˆè¦é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…create-react-appï¼Œè€ŒåŒ…ç®¡ç†å™¨ä¸€èˆ¬å®‰è£…äº†nodejsåä¼šè‡ªå¸¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ˜¯åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šå®‰è£…nodeã€‚</p><p>è¯·å‚è€ƒä»¥ä¸‹nodejså®‰è£…æ•™ç¨‹ï¼š</p><p><a href="https://www.runoob.com/nodejs/nodejs-install-setup.html" target="_blank" rel="noopener">Node.jså®‰è£…é…ç½®</a></p><h3 id="æ£€æµ‹npmåŒ…æ˜¯å¦å¯ç”¨"><a href="#æ£€æµ‹npmåŒ…æ˜¯å¦å¯ç”¨" class="headerlink" title="æ£€æµ‹npmåŒ…æ˜¯å¦å¯ç”¨"></a>æ£€æµ‹npmåŒ…æ˜¯å¦å¯ç”¨</h3><p>å®‰è£…å¥½åï¼Œå¹¶ä¸”ä¹Ÿé…ç½®è¿›å…¥äº†ç¯å¢ƒå˜é‡ï¼Œç„¶åæˆ‘ä»¬æ¥æ£€æµ‹ä¸‹ä½ çš„npmåŒ…æ˜¯å¦å¯ç”¨ï¼Œæ‰“å¼€cmdçª—å£ï¼Œè¾“å…¥npm -v è¿›è¡Œæ£€æµ‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œè‹¥æ˜¾ç¤ºç‰ˆæœ¬å·åˆ™è¯´æ˜å®‰è£…æˆåŠŸï¼Œç¯å¢ƒå˜é‡ä¹Ÿé…ç½®æˆåŠŸï¼Œå¯ç”¨å¼€å§‹å®‰è£…creact-react-appè¿›è¡Œreactå¼€å‘äº†ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/npm.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><h3 id="ä½¿ç”¨-create-react-app-å¿«é€Ÿæ„å»º-React-å¼€å‘ç¯å¢ƒ"><a href="#ä½¿ç”¨-create-react-app-å¿«é€Ÿæ„å»º-React-å¼€å‘ç¯å¢ƒ" class="headerlink" title="ä½¿ç”¨ create-react-app å¿«é€Ÿæ„å»º React å¼€å‘ç¯å¢ƒ"></a>ä½¿ç”¨ create-react-app å¿«é€Ÿæ„å»º React å¼€å‘ç¯å¢ƒ</h3><p>create-react-app æ˜¯æ¥è‡ªäº <a href="https://www.baidu.com/s?wd=Facebook&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">Facebook</a>ï¼Œé€šè¿‡è¯¥å‘½ä»¤æˆ‘ä»¬æ— éœ€é…ç½®å°±èƒ½å¿«é€Ÿæ„å»º React å¼€å‘ç¯å¢ƒã€‚</p><p>create-react-app è‡ªåŠ¨åˆ›å»ºçš„é¡¹ç›®æ˜¯åŸºäº Webpack + ES6 ã€‚</p><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºé¡¹ç›®ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g create-react-app</span><br><span class="line">create-react-app project_name</span><br><span class="line"><span class="built_in">cd</span> project_name/</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><p>å‚è€ƒï¼š<a href="https://github.com/facebook/create-react-app" target="_blank" rel="noopener"><strong>create-react-app</strong></a></p><p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://localhost:3000/" target="_blank" rel="noopener">http://localhost:3000/</a> ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/react.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><strong>æç¤ºï¼š</strong>å®‰è£…å¥½åï¼Œå¦‚æœä½ æƒ³å¸è½½ï¼Œå¯ä»¥ç›´æ¥æŠŠinstallæ”¹ä¸ºuninstalå³å¯ï¼Œä¹Ÿå°±æ˜¯åœ¨å‰é¢ä¸ªunå°±å¯ä»¥è¡¨ç¤ºå¸è½½äº†ã€‚æœ‰æ—¶å€™å¸è½½ååœ¨å®‰è£…å¯èƒ½ä¼šæŠ¥å†™é”™ï¼Œæ­¤æ—¶ä½ ç›´æ¥å®šä½çš„create-react-appå®‰è£…ç›®å½•ï¼Œç„¶åæŠŠè¿™ä¸ªç›®å½•åˆ é™¤ä¸€èˆ¬å°±èƒ½è§£å†³äº†ã€‚</p><h2 id="æ€ä¹ˆè¿è¡Œåˆ«äººå†™å¥½çš„reactjsé¡¹ç›®"><a href="#æ€ä¹ˆè¿è¡Œåˆ«äººå†™å¥½çš„reactjsé¡¹ç›®" class="headerlink" title="æ€ä¹ˆè¿è¡Œåˆ«äººå†™å¥½çš„reactjsé¡¹ç›®"></a>æ€ä¹ˆè¿è¡Œåˆ«äººå†™å¥½çš„reactjsé¡¹ç›®</h2><ol><li><p>é¦–å…ˆå®‰è£…nodejsæœ€æ–°ç¨³å®šç‰ˆï¼Œé…ç½®ç¯å¢ƒå˜é‡ï¼Œä½¿å¾—nodeå’Œnpmå‘½ä»¤èƒ½æ­£å¸¸è¿è¡Œï¼Œè‡ªå·±å»å®˜æ–¹ä¸‹è½½ï¼›</p></li><li><p>åœ¨é¡¹ç›®ä¸‹è¿è¡Œ <code>npm install</code> ï¼ˆåŠŸèƒ½ï¼šå®‰è£…ä¾èµ–ï¼‰</p></li><li><p>ç„¶åçœ‹é¡¹ç›®ä¸‹çš„<code>README.md</code>ï¼Œä¸€èˆ¬æœ‰æŒ‡å¼•æ•™ä½ å¦‚ä½•è¿è¡Œã€‚</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº&quot;&gt;&lt;a href=&quot;#åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº&quot;&gt;&lt;/a&gt;åˆ›å»ºä¸€ä¸ªReactåº”ç”¨ç¨‹åº&lt;/h2&gt;&lt;p&gt;å‚è§ï¼š&lt;a href=&quot;https://blog.c
      
    
    </summary>
    
      <category term="React" scheme="/categories/React/"/>
    
    
      <category term="å‰ç«¯" scheme="/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="React" scheme="/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸‹ç«¯å£æ˜ å°„å·¥å…·rinetd</title>
    <link href="/2019/02/12/Linux%E4%B8%8B%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84%E5%B7%A5%E5%85%B7rinetd/"/>
    <id>/2019/02/12/Linuxä¸‹ç«¯å£æ˜ å°„å·¥å…·rinetd/</id>
    <published>2019-02-12T08:51:22.000Z</published>
    <updated>2019-02-12T09:30:58.619Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Linuxä¸‹ç®€å•å¥½ç”¨çš„å·¥å…·rinetdï¼Œå®ç°ç«¯å£æ˜ å°„/è½¬å‘/é‡å®šå‘</strong></p><p>å®˜ç½‘åœ°å€<a href="http://www.boutell.com/rinetd" target="_blank" rel="noopener">http://www.boutell.com/rinetd</a></p><h2 id="è½¯ä»¶ä¸‹è½½"><a href="#è½¯ä»¶ä¸‹è½½" class="headerlink" title="è½¯ä»¶ä¸‹è½½"></a>è½¯ä»¶ä¸‹è½½</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.boutell.com/rinetd/http/rinetd.tar.gz</span><br></pre></td></tr></table></figure><h2 id="è§£å‹å®‰è£…"><a href="#è§£å‹å®‰è£…" class="headerlink" title="è§£å‹å®‰è£…"></a>è§£å‹å®‰è£…</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf rinetd.tar.gz</span><br><span class="line"><span class="built_in">cd</span> rinetd</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong>æ‰§è¡Œ<code>make install</code>æ—¶å¯èƒ½å‡ºç°é”™è¯¯ï¼š</p><p><code>ç¼ºå°‘ç›®å½•/usr/man/man8</code></p><p>æ­¤æ—¶æ‰§è¡Œ <code>mkdir /usr/man/man8</code>åå†æ‰§è¡Œ<code>make install</code>å³å¯</p><h2 id="ç¼–è¾‘é…ç½®"><a href="#ç¼–è¾‘é…ç½®" class="headerlink" title="ç¼–è¾‘é…ç½®"></a>ç¼–è¾‘é…ç½®</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/rinetd.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†…å®¹</span></span><br><span class="line">0.0.0.0 8080 172.19.94.3 8080</span><br><span class="line">0.0.0.0 2222 192.168.0.103 3389</span><br><span class="line">1.2.3.4 80     192.168.0.10 80</span><br></pre></td></tr></table></figure><p>è¯´æ˜ä¸€ä¸‹ï¼ˆ0.0.0.0è¡¨ç¤ºæœ¬æœºç»‘å®šæ‰€æœ‰å¯ç”¨åœ°å€ï¼‰<br>å°†æ‰€æœ‰å‘å¾€æœ¬æœº8080ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°172.19.94.3çš„8080ç«¯å£<br>å°†æ‰€æœ‰å‘å¾€æœ¬æœº2222ç«¯å£çš„è¯·æ±‚è½¬å‘åˆ°192.168.0.103çš„3389ç«¯å£<br>å°†æ‰€æœ‰å‘å¾€1.2.3.4çš„80ç«¯å£è¯·æ±‚è½¬å‘åˆ°192.168.0.10çš„80ç«¯å£</p><p>å‘½ä»¤æ ¼å¼æ˜¯<br><code>bindaddress bindport connectaddress connectport</code><br><code>ç»‘å®šçš„åœ°å€  ç»‘å®šçš„ç«¯å£  è¿æ¥çš„åœ°å€  è¿æ¥çš„ç«¯å£</code><br>æˆ–<br><code>[Source Address] [Source Port] [Destination Address] [Destination Port]</code><br><code>æºåœ°å€  æºç«¯å£   ç›®çš„åœ°å€  ç›®çš„ç«¯å£</code></p><h2 id="å¯åŠ¨ç¨‹åº"><a href="#å¯åŠ¨ç¨‹åº" class="headerlink" title="å¯åŠ¨ç¨‹åº"></a>å¯åŠ¨ç¨‹åº</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rinetd -c /etc/rinetd.conf  <span class="comment">##å¯åŠ¨è½¬å‘</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é™„åŠ ï¼š</span></span><br><span class="line">pkill rinetd  <span class="comment">##å…³é—­è¿›ç¨‹</span></span><br></pre></td></tr></table></figure><p>æŠŠå‘½ä»¤<code>rinetd -c /etc/rinetd.conf</code>åŠ åˆ°<a href="https://maliangnansheng.github.io/2019/01/07/ubuntu-18-04-1-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/#%E4%BF%AE%E6%94%B9-etc-rc-local%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener">/etc/rc.local</a>é‡Œé¢å°±å¯ä»¥å¼€æœºè‡ªåŠ¨è¿è¡Œ</p><h2 id="æŸ¥çœ‹çŠ¶æ€"><a href="#æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹çŠ¶æ€"></a>æŸ¥çœ‹çŠ¶æ€</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat -antp | grep 8080 | grep -v grep</span><br><span class="line"></span><br><span class="line">netstat -antp | grep rinetd | grep -v grep</span><br></pre></td></tr></table></figure><h2 id="éœ€è¦æ³¨æ„"><a href="#éœ€è¦æ³¨æ„" class="headerlink" title="éœ€è¦æ³¨æ„"></a>éœ€è¦æ³¨æ„</h2><ol><li><p>rinetd.confä¸­ç»‘å®šçš„æœ¬æœºç«¯å£å¿…é¡»æ²¡æœ‰è¢«å…¶å®ƒç¨‹åºå ç”¨</p></li><li><p>è¿è¡Œrinetdçš„ç³»ç»Ÿé˜²ç«å¢™åº”è¯¥æ‰“å¼€ç»‘å®šçš„æœ¬æœºç«¯å£ï¼ˆæˆ–è€…ç›´æ¥å…³é—­é˜²ç«å¢™ï¼Ÿï¼‰</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 1111 -j ACCEPT</span><br><span class="line">-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 2222 -j ACCEPT</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Linuxä¸‹ç®€å•å¥½ç”¨çš„å·¥å…·rinetdï¼Œå®ç°ç«¯å£æ˜ å°„/è½¬å‘/é‡å®šå‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®˜ç½‘åœ°å€&lt;a href=&quot;http://www.boutell.com/rinetd&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="æ˜ å°„" scheme="/tags/%E6%98%A0%E5%B0%84/"/>
    
      <category term="rinetd" scheme="/tags/rinetd/"/>
    
  </entry>
  
  <entry>
    <title>å·¥ä½œä»¥åŠè‡ªæˆ‘å­¦ä¹ è®¡åˆ’</title>
    <link href="/2019/01/31/%E5%B7%A5%E4%BD%9C%E4%BB%A5%E5%8F%8A%E8%87%AA%E6%88%91%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/"/>
    <id>/2019/01/31/å·¥ä½œä»¥åŠè‡ªæˆ‘å­¦ä¹ è®¡åˆ’/</id>
    <published>2019-01-31T08:38:41.000Z</published>
    <updated>2019-01-31T08:41:00.863Z</updated>
    
    <content type="html"><![CDATA[<h2 id="äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’"><a href="#äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’" class="headerlink" title="äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’"></a>äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/æ·å¹¸ç§‘æŠ€-ç ”å‘ä¸­å¿ƒ-äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’&quot;&gt;&lt;a href=&quot;#äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’&quot; class=&quot;headerlink&quot; title=&quot;äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’&quot;&gt;&lt;/a&gt;äººå·¥æ™ºèƒ½-2019å¹´å·¥ä½œè®¡åˆ’&lt;/h2&gt;&lt;figure class=&quot;image-bubb
      
    
    </summary>
    
      <category term="ä¹±è¯­" scheme="/categories/%E4%B9%B1%E8%AF%AD/"/>
    
    
      <category term="å­¦ä¹ è®¡åˆ’" scheme="/tags/%E5%AD%A6%E4%B9%A0%E8%AE%A1%E5%88%92/"/>
    
      <category term="å·¥ä½œè®¡åˆ’" scheme="/tags/%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>è®©åº”ç”¨ç¨‹åºæ”¯æŒemojiå­—ç¬¦</title>
    <link href="/2019/01/31/%E8%AE%A9%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%94%AF%E6%8C%81emoji%E5%AD%97%E7%AC%A6/"/>
    <id>/2019/01/31/è®©åº”ç”¨ç¨‹åºæ”¯æŒemojiå­—ç¬¦/</id>
    <published>2019-01-31T03:00:44.000Z</published>
    <updated>2019-01-31T03:05:54.995Z</updated>
    
    <content type="html"><![CDATA[<p>ä»€ä¹ˆæ˜¯emojiï¼Ÿå°±æ˜¯è¿™äº›è¡¨æƒ…å’Œç¬¦å·ï¼š</p><p>ğŸ˜€ğŸ˜„ğŸ’¦ğŸ˜ğŸ˜‚ğŸ˜±ğŸ˜­ğŸ˜´ğŸ‘Œ</p><p>è‡ªiPhoneä»iOS 5åœ¨è¾“å…¥æ³•ä¸­å¼€å§‹æ”¯æŒemojiä»¥æ¥ï¼Œè¿™äº›è¡¨æƒ…ç¬¦å·è¿…é€Ÿé£é¡ä¸–ç•Œã€‚ä½†æ˜¯å¾ˆå¤šWebç½‘ç«™ç«Ÿç„¶è¿˜ä¸ï¼æ”¯ï¼æŒï¼ï¼ï¼</p><p>é‚£æ€ä¹ˆæ‰èƒ½æ”¯æŒemojiå‘¢ï¼Ÿå…¶å®ä»£ç ä¸€è¡Œéƒ½ä¸ç”¨æ”¹ï¼Œå› ä¸ºemojiç¬¦å·å®é™…ä¸Šæ˜¯æ–‡æœ¬ï¼Œå¹¶ä¸æ˜¯å›¾ç‰‡ï¼Œå®ƒä»¬ä»…ä»…æ˜¾ç¤ºä¸ºå›¾ç‰‡è€Œå·²ã€‚è€Œä¸”ï¼Œemojiç¬¦å·å·²ç»è¢«æ ‡å‡†åŒ–å¹¶ç¼–ç åˆ°æœ€æ–°çš„Unicodeæ ‡å‡†ä¸­äº†ï¼Œæ‰€ä»¥ï¼Œè¦æ”¯æŒemojiï¼Œåªéœ€è¦åº•å±‚è½¯ä»¶ç³»ç»Ÿæ”¯æŒå°±å¯ä»¥äº†ã€‚</p><p>æœåŠ¡å™¨ç«¯è¦æ­£ç¡®å­˜å‚¨emojiç¬¦å·ï¼Œåªéœ€è¦ç¡®ä¿Webç¨‹åºå’Œåº•å±‚æ•°æ®åº“èƒ½æ”¯æŒæœ€æ–°çš„Unicodeæ ‡å‡†å°±å¯ä»¥äº†ã€‚</p><p>å¦‚æœä½¿ç”¨MySQLä½œä¸ºæ•°æ®åº“ï¼Œéœ€è¦å‡çº§åˆ°5.5.3æˆ–æ›´æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åï¼ŒæŠŠé»˜è®¤ç¼–ç ä»åŸæ¥çš„utf8æ”¹ä¸ºutf8mb4ï¼Œåœ¨<code>my.cnf</code>æˆ–è€…<code>my.ini</code>é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server = utf8mb4</span><br><span class="line">collation-server     = utf8mb4_general_ci</span><br></pre></td></tr></table></figure><p>é‡å¯MySQLï¼Œç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç¼–ç ï¼Œåº”è¯¥å…¨éƒ¨ä¸º<code>utf8mb4</code>ï¼ˆ<code>character_set_filesystem</code>å’Œ<code>character_set_system</code>é™¤å¤–ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like <span class="string">'%char%'</span>;</span><br><span class="line">+--------------------------+--------------------------+</span><br><span class="line">| Variable_name            | Value                    |</span><br><span class="line">+--------------------------+--------------------------+</span><br><span class="line">| character_set_client     | utf8mb4                  |</span><br><span class="line">| character_set_connection | utf8mb4                  |</span><br><span class="line">| character_set_database   | utf8mb4                  |</span><br><span class="line">| character_set_filesystem | binary                   |</span><br><span class="line">| character_set_results    | utf8mb4                  |</span><br><span class="line">| character_set_server     | utf8mb4                  |</span><br><span class="line">| character_set_system     | utf8                     |</span><br><span class="line">| character_sets_dir       | /usr/<span class="built_in">local</span>/mysql-5.7.... |</span><br><span class="line">+--------------------------+--------------------------+</span><br><span class="line">8 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹collationè®¾ç½®ï¼Œåº”è¯¥å…¨éƒ¨æ˜¯<code>utf8mb4_general_ci</code>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like <span class="string">'%coll%'</span>;</span><br><span class="line">+----------------------+--------------------+</span><br><span class="line">| Variable_name        | Value              |</span><br><span class="line">+----------------------+--------------------+</span><br><span class="line">| collation_connection | utf8mb4_general_ci |</span><br><span class="line">| collation_database   | utf8mb4_general_ci |</span><br><span class="line">| collation_server     | utf8mb4_general_ci |</span><br><span class="line">+----------------------+--------------------+</span><br><span class="line">3 rows <span class="keyword">in</span> <span class="built_in">set</span> (0.01 sec)</span><br></pre></td></tr></table></figure><p>å¦‚æœ<code>character_set_database</code>è¿˜æ˜¯ä¸º<code>utf8</code>ï¼Œéœ€è¦é‡å¯æœåŠ¡å™¨ã€‚</p><p>ç°åœ¨ï¼ŒMySQLå°±å¯ä»¥æ­£ç¡®å­˜å‚¨emojiå­—ç¬¦äº†ã€‚</p><p>Webè½¯ä»¶</p><p>è¦æ”¯æŒemojiï¼Œéœ€è¦Webè½¯ä»¶ä¹Ÿæ”¯æŒã€‚ç›®å‰ï¼Œå·²çŸ¥æ”¯æŒemojiçš„åŒ…æ‹¬ï¼š</p><ul><li>Java 8</li><li>Node</li></ul><p>æœ€åï¼Œå¦‚æœä½ çš„Webåº”ç”¨ç¨‹åºæ²¡æœ‰ä½¿ç”¨æ ‡å‡†çš„UTF-8ç¼–ç ï¼Œè€Œæ˜¯ä½¿ç”¨äº†GBKç­‰ç¼–ç ï¼Œæƒ³è¦æ”¯æŒemojiå°±åªèƒ½<code>å‘µå‘µ</code>äº†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä»€ä¹ˆæ˜¯emojiï¼Ÿå°±æ˜¯è¿™äº›è¡¨æƒ…å’Œç¬¦å·ï¼š&lt;/p&gt;
&lt;p&gt;ğŸ˜€ğŸ˜„ğŸ’¦ğŸ˜ğŸ˜‚ğŸ˜±ğŸ˜­ğŸ˜´ğŸ‘Œ&lt;/p&gt;
&lt;p&gt;è‡ªiPhoneä»iOS 5åœ¨è¾“å…¥æ³•ä¸­å¼€å§‹æ”¯æŒemojiä»¥æ¥ï¼Œè¿™äº›è¡¨æƒ…ç¬¦å·è¿…é€Ÿé£é¡ä¸–ç•Œã€‚ä½†æ˜¯å¾ˆå¤šWebç½‘ç«™ç«Ÿç„¶è¿˜ä¸ï¼æ”¯ï¼æŒï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;é‚£æ€ä¹ˆæ‰èƒ½æ”¯æŒemojiå‘¢
      
    
    </summary>
    
      <category term="ä¹±è¯­" scheme="/categories/%E4%B9%B1%E8%AF%AD/"/>
    
    
      <category term="emoji" scheme="/tags/emoji/"/>
    
      <category term="utf8mb4" scheme="/tags/utf8mb4/"/>
    
      <category term="Web" scheme="/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>JVM -verboseå‚æ•°è¯¦è§£</title>
    <link href="/2019/01/28/JVM-verbose%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/"/>
    <id>/2019/01/28/JVM-verboseå‚æ•°è¯¦è§£/</id>
    <published>2019-01-28T11:50:55.000Z</published>
    <updated>2019-01-28T12:05:53.116Z</updated>
    
    <content type="html"><![CDATA[<h2 id="java-verbose-class-gc-jni-åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯"><a href="#java-verbose-class-gc-jni-åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯" class="headerlink" title="java -verbose[:class|gc|jni] åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯"></a><code>java -verbose[:class|gc|jni]</code> åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯</h2><h3 id="java-verbose-class"><a href="#java-verbose-class" class="headerlink" title="java -verbose:class"></a><code>java -verbose:class</code></h3><p>åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™æœ‰å¤šå°‘ç±»è¢«åŠ è½½ï¼ä½ å¯ä»¥ç”¨<code>verbose:class</code>æ¥ç›‘è§†ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥<code>java -verbose:class XXX</code>  (<code>XXX</code>ä¸ºç¨‹åºå)ä½ ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°åŠ è½½çš„ç±»çš„æƒ…å†µã€‚</p><p>é…ç½®å‚æ•°ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/class.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p><code>verbose</code>å’Œ<code>verbose:class</code>å«ä¹‰ç›¸åŒï¼Œè¾“å‡ºè™šæ‹Ÿæœºè£…å…¥çš„ç±»çš„ä¿¡æ¯ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯æ ¼å¼å¦‚ä¸‹ï¼š </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Opened D:\Java\jdk1.6.0_25\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Object from D:\Java\jdk1.6.0_25\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.io.Serializable from D:\Java\jdk1.6.0_25\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Comparable from D:\Java\jdk1.6.0_25\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.CharSequence from D:\Java\jdk1.6.0_25\jre\lib\rt.jar]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="java-â€“verbose-gc"><a href="#java-â€“verbose-gc" class="headerlink" title="java â€“verbose:gc"></a><code>java â€“verbose:gc</code></h3><p>åœ¨è™šæ‹Ÿæœºå‘ç”Ÿå†…å­˜å›æ”¶æ—¶åœ¨è¾“å‡ºè®¾å¤‡æ˜¾ç¤ºä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š <code>[Full GC 256K-&gt;160K(124096K), 0.0042708 secs]</code> è¯¥å‚æ•°ç”¨æ¥ç›‘è§†è™šæ‹Ÿæœºå†…å­˜å›æ”¶çš„æƒ…å†µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JvmVerbose</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">* JVM -verbose[:class|gc|jni] å‚æ•°æµ‹è¯•</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        JvmVerbose jvmVerbose = <span class="keyword">new</span> JvmVerbose();</span><br><span class="line">        System.gc();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œç”±äºå®ƒæ²¡æœ‰ä½¿ç”¨ï¼Œæ‰€ä»¥è¯¥å¯¹è±¡è¿…é€Ÿåœ°å˜ä¸ºå¯è¾¾ï¼Œç¨‹åºç¼–è¯‘åï¼Œæ‰§è¡Œå‘½ä»¤ï¼š <code>java -verbose:gc JvmVerbose</code> åç»“æœä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[GC <span class="number">647</span>K-&gt;<span class="number">256</span>K(<span class="number">124096</span>K), <span class="number">0.0274253</span> secs]</span><br><span class="line"></span><br><span class="line">[Full GC <span class="number">256</span>K-&gt;<span class="number">160</span>K(<span class="number">124096</span>K), <span class="number">0.0042708</span> secs]</span><br></pre></td></tr></table></figure><p>ç®­å¤´å‰åçš„æ•°æ®<code>256K</code>å’Œ<code>160K</code>åˆ†åˆ«è¡¨ç¤ºåƒåœ¾æ”¶é›†<code>GC</code>å‰åæ‰€æœ‰å­˜æ´»å¯¹è±¡ä½¿ç”¨çš„å†…å­˜å®¹é‡ï¼Œè¯´æ˜æœ‰<code>256K-160K=96K</code>çš„å¯¹è±¡å®¹é‡è¢«å›æ”¶ï¼Œæ‹¬å·å†…çš„æ•°æ®<code>124096K</code>ä¸ºå †å†…å­˜çš„æ€»å®¹é‡ï¼Œæ”¶é›†æ‰€éœ€è¦çš„æ—¶é—´æ˜¯<code>0.0042708</code>ç§’ï¼ˆè¿™ä¸ªæ—¶é—´åœ¨æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™ä¼šæœ‰æ‰€ä¸åŒï¼‰</p><h3 id="java-â€“verbose-jni"><a href="#java-â€“verbose-jni" class="headerlink" title="java â€“verbose:jni"></a><code>java â€“verbose:jni</code></h3><p><code>-verbose:jni</code>è¾“å‡º<code>native</code>æ–¹æ³•è°ƒç”¨çš„ç›¸å…³æƒ…å†µï¼Œä¸€èˆ¬ç”¨äºè¯Šæ–­<code>jni</code>è°ƒç”¨é”™è¯¯ä¿¡æ¯ã€‚<br>åœ¨è™šæ‹Ÿæœºè°ƒç”¨nativeæ–¹æ³•æ—¶è¾“å‡ºè®¾å¤‡æ˜¾ç¤ºä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š <code>[Dynamic-linking native methodjava.lang.Object.registerNatives ... JNI]</code> è¯¥å‚æ•°ç”¨æ¥ç›‘è§†è™šæ‹Ÿæœºè°ƒç”¨æœ¬åœ°æ–¹æ³•çš„æƒ…å†µï¼Œåœ¨å‘ç”Ÿ<code>jni</code>é”™è¯¯æ—¶å¯ä¸ºè¯Šæ–­æä¾›ä¾¿åˆ©ã€‚</p><p>å°è¯•èº«æ‰‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>Â <span class="class"><span class="keyword">class</span>Â <span class="title">Test</span>Â </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span>Â <span class="keyword">static</span>Â <span class="keyword">void</span>Â <span class="title">main</span><span class="params">(StringÂ args[])</span></span>&#123;</span><br><span class="line">TestÂ testÂ =Â <span class="keyword">new</span>Â Test();</span><br><span class="line">System.gc();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®å‚æ•°ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/jni.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><p>æ‰§è¡ŒTest.classåŠ è½½äº†ä»¥ä¸‹è¿™ä¹ˆå¤šç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[Opened C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Object from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.io.Serializable from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Comparable from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.CharSequence from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.String from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.reflect.GenericDeclaration from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.reflect.Type from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">[Full GC <span class="number">812</span>K-&gt;<span class="number">442</span>K(<span class="number">15872</span>K), <span class="number">0.0031244</span> secs] </span><br><span class="line"></span><br><span class="line">[Loaded sun.misc.Cleaner from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Shutdown from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line"></span><br><span class="line">[Loaded java.lang.Shutdown$Lock from C:\Java\jdk7\jre\lib\rt.jar]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;java-verbose-class-gc-jni-åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯&quot;&gt;&lt;a href=&quot;#java-verbose-class-gc-jni-åœ¨è¾“å‡ºè®¾å¤‡ä¸Šæ˜¾ç¤ºè™šæ‹Ÿæœºè¿è¡Œä¿¡æ¯&quot; class=&quot;headerlink&quot; title=&quot;java -verb
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="eclipse" scheme="/tags/eclipse/"/>
    
      <category term="JVM" scheme="/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>Mavenç”Ÿæˆjavadoc(apiæ–‡æ¡£)</title>
    <link href="/2019/01/24/Maven%E7%94%9F%E6%88%90javadoc-api%E6%96%87%E6%A1%A3/"/>
    <id>/2019/01/24/Mavenç”Ÿæˆjavadoc-apiæ–‡æ¡£/</id>
    <published>2019-01-24T02:16:22.000Z</published>
    <updated>2019-01-24T02:24:05.640Z</updated>
    
    <content type="html"><![CDATA[<h2 id="pomé…ç½®"><a href="#pomé…ç½®" class="headerlink" title="pomé…ç½®"></a>pomé…ç½®</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- propertiesä¸dependencysåŒçº§ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">maven.compiler.encoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">reportOutputDirectory</span>&gt;</span>../javadocs<span class="tag">&lt;/<span class="name">reportOutputDirectory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">destDir</span>&gt;</span>easy-delivery<span class="tag">&lt;/<span class="name">destDir</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆdocå‘½ä»¤"><a href="#ç”Ÿæˆdocå‘½ä»¤" class="headerlink" title="ç”Ÿæˆdocå‘½ä»¤"></a>ç”Ÿæˆdocå‘½ä»¤</h2><p><strong>é¦–å…ˆéœ€è¦æ‰“å¼€<code>cmd</code>ï¼Œç„¶å<code>cd</code>åˆ°é¡¹ç›®ç›®å½•ä¸‹</strong>ï¼Œç„¶åæ‰§è¡Œä¸‹é¢å‘½ä»¤å³å¯</p><p>ä¾‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D:</span><br><span class="line"><span class="built_in">cd</span> D:\maliangnansheng\IDEA_HKAI\hkai-ocr</span><br><span class="line">mvn javadoc:javadoc</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ–‡ä»¶"><a href="#æŸ¥çœ‹æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶"></a>æŸ¥çœ‹æ–‡ä»¶</h2><p>æ¯”å¦‚æˆ‘çš„é¡¹ç›®åœ¨<code>hkai-ocr</code>è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œ<code>doc</code>ä¹Ÿä¼šç”Ÿæˆåœ¨ä¸<code>hkai-ocr</code>åŒçº§ç›®å½•ï¼ˆä¹Ÿå¯ä»¥ä¿®æ”¹ä¸Šé¢çš„é…ç½®ï¼‰</p><p>æ‰“å¼€ç”Ÿæˆçš„<code>doc</code>é‡Œ<code>index.html</code> å°±å¯ä»¥çœ‹åˆ°apié¡µé¢</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/api.png" alt="" title="">                </div>                <div class="image-caption"></div>            </figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;pomé…ç½®&quot;&gt;&lt;a href=&quot;#pomé…ç½®&quot; class=&quot;headerlink&quot; title=&quot;pomé…ç½®&quot;&gt;&lt;/a&gt;pomé…ç½®&lt;/h2&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="Maven" scheme="/tags/Maven/"/>
    
      <category term="api" scheme="/tags/api/"/>
    
  </entry>
  
  <entry>
    <title>CentOSéƒ¨ç½²kodexplorerå¯é“äº‘æ­å»ºç§æœ‰ç½‘ç›˜</title>
    <link href="/2019/01/16/CentOS%E9%83%A8%E7%BD%B2kodexplorer%E5%8F%AF%E9%81%93%E4%BA%91%E6%90%AD%E5%BB%BA%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98/"/>
    <id>/2019/01/16/CentOSéƒ¨ç½²kodexplorerå¯é“äº‘æ­å»ºç§æœ‰ç½‘ç›˜/</id>
    <published>2019-01-16T06:38:15.000Z</published>
    <updated>2019-01-16T07:50:17.841Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·-åŸæ–™"><a href="#å·¥å…·-åŸæ–™" class="headerlink" title="å·¥å…·/åŸæ–™"></a>å·¥å…·/åŸæ–™</h2><ol><li>xampp</li><li>å¯é“äº‘kodexplorer</li></ol><h2 id="PHPç¯å¢ƒé…ç½®"><a href="#PHPç¯å¢ƒé…ç½®" class="headerlink" title="PHPç¯å¢ƒé…ç½®"></a>PHPç¯å¢ƒé…ç½®</h2><ol><li><p>å¯ä»¥åœ¨ä¸²å£ä½¿ç”¨<code>getconf LONG_BIT</code> å‘½ä»¤æ¥æŸ¥çœ‹å¹¶ç¡®å®šlinuxæ“ä½œç³»ç»Ÿç‰ˆæœ¬</p><p>è¾“å‡ºï¼š32è¡¨é¢ç³»ç»Ÿæ˜¯32ä½ã€‚<br>è¾“å‡ºï¼š64è¡¨é¢ç³»ç»Ÿæ˜¯64ä½ã€‚</p></li><li><p>ä¸‹è½½ä¸è‡ªå·±æ“ä½œç³»ç»Ÿç›¸é€‚åº”ç‰ˆæœ¬çš„xampp</p><p>[32bit] wget <a href="https://sourceforge.net/projects/xampp/files/XAMPP%20Linux/5.6.14/xampp-linux-5.6.14-4-installer.run" target="_blank" rel="noopener">https://sourceforge.net/projects/xampp/files/XAMPP%20Linux/5.6.14/xampp-linux-5.6.14-4-installer.run</a>&gt;ï¼ˆ7.3.0æ²¡æœ‰32ä½ç‰ˆæœ¬çš„ï¼Œè‡ªå·±æ‰¾æ‰¾å“ªä¸ªç‰ˆæœ¬æœ‰ï¼‰<br>[64bit] wget <a href="https://sourceforge.net/projects/xampp/files/XAMPP%20Linux/7.3.0/xampp-linux-x64-7.3.0-0-installer.run" target="_blank" rel="noopener">https://sourceforge.net/projects/xampp/files/XAMPP%20Linux/7.3.0/xampp-linux-x64-7.3.0-0-installer.run</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/xampp</span><br><span class="line"><span class="built_in">cd</span> /home/xampp/</span><br><span class="line">wget https://sourceforge.net/projects/xampp/files/XAMPP%20Linux/7.3.0/xampp-linux-x64-7.3.0-0-installer.run</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…xamppï¼Œä¸ºç§æœ‰äº‘å®‰è£…æ„å»ºApacheå’ŒPHPç¯å¢ƒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x xampp-linux-x64-7.3.0-0-installer.run</span><br><span class="line">./xampp-linux-x64-7.3.0-0-installer.run</span><br></pre></td></tr></table></figure><p><img src="/img/xamppå®‰è£….png" alt=""></p><p>åˆ é™¤åŒ…ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /home/xampp/</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨xamppï¼Œæ‰§è¡Œ<code>/opt/lampp/lampp start</code>å¯åŠ¨æœåŠ¡</p><p>é»˜è®¤å®‰è£…åœ¨<code>/opt/lampp/</code>ä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/lampp/lampp start</span><br></pre></td></tr></table></figure></li></ol><h2 id="ä¸‹è½½å’Œå®‰è£…å¯é“äº‘kodexplorer"><a href="#ä¸‹è½½å’Œå®‰è£…å¯é“äº‘kodexplorer" class="headerlink" title="ä¸‹è½½å’Œå®‰è£…å¯é“äº‘kodexplorer"></a>ä¸‹è½½å’Œå®‰è£…å¯é“äº‘kodexplorer</h2><ol><li><p>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å¯é“äº‘KodExplorerç¨‹åº</p><p>ä¸‹è½½åœ°å€ï¼š<a href="http://kodcloud.com/download.html" target="_blank" rel="noopener">http://kodcloud.com/download.html</a></p><p>ä¸‹è½½ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/kodexplorer</span><br><span class="line"><span class="built_in">cd</span> /home/kodexplorer/</span><br><span class="line"><span class="comment"># å½“æ—¶æœ€æ–°ç‰ˆ</span></span><br><span class="line">wget http://static.kalcaddle.com/update/download/kodexplorer4.37.zip</span><br></pre></td></tr></table></figure></li><li><p>å°†å¯é“äº‘kodexplorer.zipè§£å‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip kodexplorer4.37.zip</span><br></pre></td></tr></table></figure></li><li><p>å°†è§£å‹åçš„å†…å®¹æ‹·è´è‡³<code>/opt/lampp/htdocs/</code>ç›®å½•ä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp -r /home/kodexplorer/ /opt/lampp/htdocs/</span><br><span class="line">chmod 777 /opt/lampp/htdocs/kodexplorer</span><br><span class="line">chmod -R 777 /opt/lampp/htdocs/kodexplorer/data/</span><br></pre></td></tr></table></figure><p>åˆ é™¤ä¸ç”¨æ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /home/kodexplorer/</span><br></pre></td></tr></table></figure></li><li><p><strong>æµè§ˆå™¨è®¿é—®kodexplorerçš„index.phpå³å¯è®¿é—®<code>KodExplorer</code>ç•Œé¢</strong></p><p>å³ï¼š<a href="http://IPåœ°å€/kodexplorer/index.php" target="_blank" rel="noopener">http://IPåœ°å€/kodexplorer/index.php</a></p><p>ä¾‹ï¼š<a href="http://172.19.15.52/kodexplorer/index.php" target="_blank" rel="noopener">http://172.19.15.52/kodexplorer/index.php</a></p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å·¥å…·-åŸæ–™&quot;&gt;&lt;a href=&quot;#å·¥å…·-åŸæ–™&quot; class=&quot;headerlink&quot; title=&quot;å·¥å…·/åŸæ–™&quot;&gt;&lt;/a&gt;å·¥å…·/åŸæ–™&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;xampp&lt;/li&gt;
&lt;li&gt;å¯é“äº‘kodexplorer&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;PHP
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="kodexplorer" scheme="/tags/kodexplorer/"/>
    
      <category term="éƒ¨ç½²" scheme="/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Javaæ‰“å¼€æ¡Œé¢æ–‡ä»¶</title>
    <link href="/2019/01/15/%E4%BD%BF%E7%94%A8Java%E6%89%93%E5%BC%80%E6%A1%8C%E9%9D%A2%E6%96%87%E4%BB%B6/"/>
    <id>/2019/01/15/ä½¿ç”¨Javaæ‰“å¼€æ¡Œé¢æ–‡ä»¶/</id>
    <published>2019-01-15T09:34:36.000Z</published>
    <updated>2019-01-15T09:59:44.143Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰"><a href="#æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰" class="headerlink" title="æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰"></a>æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Desktop desktop = Desktop.getDesktop();</span><br><span class="line">        <span class="keyword">if</span> (desktop.isSupported(Desktop.Action.OPEN)) &#123;</span><br><span class="line">            desktop.open(<span class="keyword">new</span> File(<span class="string">"Your.pdf"</span>)); <span class="comment">//å…¨è·¯å¾„</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"Open is not supported"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException exp) &#123;</span><br><span class="line">        exp.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŒ‡å®šæŸä¸€è½¯ä»¶æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶"><a href="#æŒ‡å®šæŸä¸€è½¯ä»¶æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶" class="headerlink" title="æŒ‡å®šæŸä¸€è½¯ä»¶æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶"></a>æŒ‡å®šæŸä¸€è½¯ä»¶æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime()</span><br><span class="line">    .exec(<span class="string">"WINWORD.EXEï¼ˆä½¿ç”¨å•¥è½¯ä»¶æ‰“å¼€ï¼‰æ‰€åœ¨å…¨è·¯å¾„ D:\\test.docxï¼ˆæ–‡ä»¶å…¨è·¯å¾„ï¼‰"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹ï¼š"C:\\Program Files\\Microsoft Office\\root\\Office16\\WINWORD.EXE D:\\3.pdf"</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰&quot;&gt;&lt;a href=&quot;#æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰&quot;&gt;&lt;/a&gt;æ‰“å¼€æŸä¸€æ–‡ä»¶ï¼ˆé»˜è®¤è½¯ä»¶æ‰“å¼€ï¼‰&lt;/h2&gt;&lt;figure class=&quot;highlight 
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="æŠ€å·§" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Desktop" scheme="/tags/Desktop/"/>
    
  </entry>
  
  <entry>
    <title>pipçš„ä½¿ç”¨æŠ€å·§</title>
    <link href="/2019/01/12/pip%E7%9A%84%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>/2019/01/12/pipçš„ä½¿ç”¨æŠ€å·§/</id>
    <published>2019-01-12T06:57:20.000Z</published>
    <updated>2019-01-12T08:08:22.305Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…"><a href="#å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…"></a>å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…</h2><p>pythonçš„åŒ…ç®¡ç†å™¨pipç‰¹åˆ«å¥½ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æ–¹ä¾¿çš„å®‰è£…ç¬¬ä¸‰æ–¹åŒ…ï¼Œä½†æ˜¯æ€æ ·ä½¿ç”¨pipæ¥å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ç¬¬ä¸‰æ–¹åŒ…å‘¢ï¼Ÿ</p><p>å®‰è£…å¥½pythonåï¼ŒåŒ…ç®¡ç†å™¨pipå°±å·²ç»å®‰è£…å¥½äº†ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥pipå°±å¯ä»¥æŸ¥é˜…åˆ°pipä¸€äº›å¸¸ç”¨ç”¨æ³•ï¼Œå¦‚ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install package</span><br><span class="line"><span class="comment">#è¿™é‡Œpackageå³ä¸ºç¬¬ä¸‰æ–¹åŒ…çš„åç§°ï¼Œå¦‚tensorflowï¼Œä½¿ç”¨è¿™ç§å®‰è£…æ–¹å¼ä¼šå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„åŒ…</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall package</span><br><span class="line"><span class="comment">#å¸è½½åŒ…</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip list</span><br><span class="line"><span class="comment">#åˆ—ä¸¾å‡ºå½“å‰ç¯å¢ƒå®‰è£…çš„æ‰€æœ‰åŒ…</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip show package</span><br><span class="line"><span class="comment">#æ˜¾ç¤ºæ‰€å®‰è£…åŒ…çš„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install package==version</span><br><span class="line"><span class="comment">#packageï¼šåŒ…åï¼›versionï¼šç‰ˆæœ¬å·ã€‚å¦‚pip install tensorflow-gpu==1.12.0å³æ˜¯å®‰è£…1.12.0ç‰ˆæœ¬çš„gpuç‰ˆæœ¬çš„tensorflow</span></span><br></pre></td></tr></table></figure><h2 id="å¤šç‰ˆæœ¬Pythonå…±å­˜æ—¶pipç»™æŒ‡å®šç‰ˆæœ¬çš„pythonå®‰è£…packageçš„æ–¹æ³•"><a href="#å¤šç‰ˆæœ¬Pythonå…±å­˜æ—¶pipç»™æŒ‡å®šç‰ˆæœ¬çš„pythonå®‰è£…packageçš„æ–¹æ³•" class="headerlink" title="å¤šç‰ˆæœ¬Pythonå…±å­˜æ—¶pipç»™æŒ‡å®šç‰ˆæœ¬çš„pythonå®‰è£…packageçš„æ–¹æ³•"></a>å¤šç‰ˆæœ¬Pythonå…±å­˜æ—¶pipç»™æŒ‡å®šç‰ˆæœ¬çš„pythonå®‰è£…packageçš„æ–¹æ³•</h2><p>åœ¨linuxå®‰è£…äº†å¤šç‰ˆæœ¬pythonæ—¶ï¼ˆä¾‹å¦‚python2.7å’Œ3.4ï¼‰ï¼Œpipå®‰è£…çš„åŒ…ä¸ä¸€å®šæ˜¯ç”¨æˆ·æƒ³è¦çš„ä½ç½®ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ <code>-t</code> é€‰é¡¹æ¥æŒ‡å®šä½ç½®</p><h3 id="æŸ¥çœ‹pipæŒ‡å‘"><a href="#æŸ¥çœ‹pipæŒ‡å‘" class="headerlink" title="æŸ¥çœ‹pipæŒ‡å‘"></a>æŸ¥çœ‹pipæŒ‡å‘</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip -V</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼špip 9.0.1 from /usr/lib/python2.7/site-packages/pip-9.0.1-py2.7.egg (python 2.7)</span></span><br><span class="line"><span class="comment"># å‘ç°æŒ‡å‘python 2.7</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æˆ‘ä»¬çš„é—®é¢˜å˜æˆäº†æ€ä¹ˆé€šè¿‡pipå»æŒ‡å®šå®‰è£…åˆ°Python3.4ä¸‹</p><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><ol><li><p>æ›´æ”¹pip3æŒ‡å‘<strong>ï¼ˆæ¨èï¼‰</strong></p><p>è¿™ç§æ–¹æ³•å¯ä»¥<strong>ä¸€åŠ³æ°¸é€¸</strong>åœ°è®©ä¹‹åçš„pip3å®‰è£…éƒ½é¡ºåˆ©ä¸€ç‚¹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1.æŸ¥çœ‹pipåœ¨å“ª</span><br><span class="line"><span class="built_in">which</span> pip</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š/usr/bin/pip</span></span><br><span class="line"></span><br><span class="line">2.æŸ¥çœ‹pythonåœ¨å“ª</span><br><span class="line"><span class="built_in">which</span> python</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š/usr/bin/python</span></span><br><span class="line"></span><br><span class="line">3.æŸ¥çœ‹python3åœ¨å“ª</span><br><span class="line"><span class="built_in">which</span> python3</span><br><span class="line"><span class="comment"># è¾“å‡ºï¼š/usr/local/bin/python3</span></span><br><span class="line"></span><br><span class="line">4.ç¼–è¾‘pipæ‰€åœ¨æ–‡ä»¶</span><br><span class="line">vim /usr/bin/pip</span><br><span class="line"><span class="comment"># æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ï¼š</span></span><br><span class="line">-----------------------------pip--------------------------------</span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># EASY-INSTALL-ENTRY-SCRIPT: 'pip==9.0.1','console_scripts','pip'</span></span><br><span class="line">__requires__ = <span class="string">'pip==9.0.1'</span></span><br><span class="line">import re</span><br><span class="line">import sys</span><br><span class="line">from pkg_resources import load_entry_point</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    sys.argv[0] = re.sub(r<span class="string">'(-script\.pyw?|\.exe)?$'</span>, <span class="string">''</span>, sys.argv[0])</span><br><span class="line">    sys.exit(</span><br><span class="line">        load_entry_point(<span class="string">'pip==9.0.1'</span>, <span class="string">'console_scripts'</span>, <span class="string">'pip'</span>)()</span><br><span class="line">    )</span><br><span class="line">-----------------------------pip-end----------------------------</span><br><span class="line"></span><br><span class="line">å°†ç¬¬ä¸€è¡Œ <span class="comment">#!/usr/bin/python ä¿®æ”¹ä¸º</span></span><br><span class="line"><span class="comment">#!/usr/local/bin/python3</span></span><br><span class="line">ç„¶åpipå°±æŒ‡å‘python2äº†</span><br></pre></td></tr></table></figure></li><li><p>å¼ºåˆ¶å®‰è£…åˆ°Python3.4ç¯å¢ƒä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip install tensorflow-1.8.0-cp34-cp34m-manylinux1_x86_64.whl</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æŒ‡å®šå®‰è£…åˆ°python3ä¸‹äº†ï¼Œä¸è¿‡ç”¨è¿™ç§æ–¹æ³•çš„è¯æ¯æ¬¡è¦å®‰è£…éƒ½å¾—è¿™ä¹ˆåšï¼Œä¸è¿‡å› ä¸ºæˆ‘æ˜¯åœ¨åˆ«äººæœåŠ¡å™¨ä¸Šåšï¼Œä¸å¥½éšä¾¿æ›´æ”¹ï¼Œå› æ­¤é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚</p></li><li><p>ç”¨ <code>-t</code> é€‰é¡¹æ¥æŒ‡å®šå®‰è£…ä½ç½®</p><p>ä¾‹å¦‚ç›®æ ‡ä½ç½®æ˜¯<code>/usr/local/lib/python3.4/site-packages/</code> ï¼Œè¦å®‰è£…<code>tensorflow-1.8.0-cp34-cp34m-manylinux1_x86_64.whl</code>è¿™ä¸ªåŒ…ï¼Œåˆ™ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -t /usr/<span class="built_in">local</span>/lib/python3.4/site-packages/ tensorflow-1.8.0-cp34-cp34m-manylinux1_x86_64.whl</span><br></pre></td></tr></table></figure><p><strong>è¿™ä¸€ç§æ–¹å¼å®‰è£…ä¸€èˆ¬ä¼šæŠ¥<code>Command &quot;python setup.py egg_info&quot; failed with error code 1</code>è¿™ä¸ªé”™</strong> ã€‚è§£å†³æ–¹æ¡ˆ<strong>ï¼ˆç»éªŒï¼‰</strong>ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install --upgrade --force pip </span><br><span class="line">pip install setuptools==33.1.1</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…&quot;&gt;&lt;a href=&quot;#å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„pythonç¬¬ä¸‰æ–¹åŒ…&quot;&gt;&lt;/a&gt;å¦‚ä½•ä½¿ç”¨pipå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="Python" scheme="/tags/Python/"/>
    
      <category term="pip" scheme="/tags/pip/"/>
    
  </entry>
  
  <entry>
    <title>Hibernateä¸­æ›´æ–°éç©ºåŸŸ</title>
    <link href="/2019/01/10/Hibernate%E4%B8%AD%E6%9B%B4%E6%96%B0%E9%9D%9E%E7%A9%BA%E5%9F%9F/"/>
    <id>/2019/01/10/Hibernateä¸­æ›´æ–°éç©ºåŸŸ/</id>
    <published>2019-01-10T01:27:16.000Z</published>
    <updated>2019-01-10T08:14:58.225Z</updated>
    
    <content type="html"><![CDATA[<p><code>Hibernate</code>ä¸­æ›´æ–°éç©ºåŸŸï¼›ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­æœ‰çš„åŸŸå¯èƒ½æ˜¯<code>null</code>ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸æƒ³è¦†ç›–åŸæ¥çš„æ•°æ®åº“ä¸­çš„æœ‰å€¼çš„åŸŸã€‚</p><p><strong>æˆ‘çš„å®ç°æ–¹æ³•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeanUtil</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤åˆ¶srcå¯¹è±¡çš„éç©ºå±æ€§å€¼åˆ°targetä¸­</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> src</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyNonNullProperties</span><span class="params">(Object src, Object target)</span> </span>&#123;</span><br><span class="line">        BeanUtils.copyProperties(src, target, getNullPropertyNames(src));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–å¯¹è±¡ä¸­å±æ€§ä¸ºç©ºçš„å±æ€§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> source</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String[] getNullPropertyNames (Object source) &#123;</span><br><span class="line">        <span class="keyword">final</span> BeanWrapper src = <span class="keyword">new</span> BeanWrapperImpl(source);</span><br><span class="line">        PropertyDescriptor[] pds = src.getPropertyDescriptors();</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; emptyNames = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(PropertyDescriptor pd : pds) &#123;</span><br><span class="line">            Object srcValue = src.getPropertyValue(pd.getName());</span><br><span class="line">            <span class="keyword">if</span> (srcValue == <span class="keyword">null</span>) emptyNames.add(pd.getName());</span><br><span class="line">        &#125;</span><br><span class="line">        String[] result = <span class="keyword">new</span> String[emptyNames.size()];</span><br><span class="line">        <span class="keyword">return</span> emptyNames.toArray(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å¦‚ä½•è°ƒç”¨ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å®ä½“ç±»<span class="number">1</span>ï¼šsrc ï¼ˆå‰ç«¯ä¼ æ¥çš„æ•°æ®ï¼‰</span><br><span class="line">å®ä½“ç±»<span class="number">1</span>ï¼šexisting ï¼ˆé€šè¿‡å‰ç«¯ä¼ æ¥æ•°æ®çš„idè·å–å¾—åˆ°æ•°æ®åº“è¡¨é‡Œçš„æ•°æ®ï¼‰</span><br><span class="line"><span class="comment">//ç”¨srcä¸­ä¸ä¸ºç©ºçš„å±æ€§æ›¿æ¢existingä¸­å¯¹åº”çš„å±æ€§</span></span><br><span class="line">copyNonNullProperties(src,existing);</span><br><span class="line"><span class="comment">//è°ƒç”¨hibernateçš„å…³ç³»æ›´æ–°æ–¹æ³•</span></span><br><span class="line">iModelConfigDAO.update(existing);</span><br></pre></td></tr></table></figure><p><code>iModelConfigDAO</code>çš„å®ç°ç±»è¯´æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ModelConfigDAOImpl</span> <span class="keyword">implements</span> <span class="title">IModelConfigDAO</span></span>&#123;</span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> SessionFactory sessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Session <span class="title">getSession</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sessionFactory.getCurrentSession();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(ModelConfig modelConfig)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.getSession().update(modelConfig);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;Hibernate&lt;/code&gt;ä¸­æ›´æ–°éç©ºåŸŸï¼›ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­æœ‰çš„åŸŸå¯èƒ½æ˜¯&lt;code&gt;null&lt;/code&gt;ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸æƒ³è¦†ç›–åŸæ¥çš„æ•°æ®åº“ä¸­çš„æœ‰å€¼çš„åŸŸã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘çš„å®ç°æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="Hibernate" scheme="/tags/Hibernate/"/>
    
  </entry>
  
  <entry>
    <title>ubuntu 18.04.1 å¼€æœºå¯åŠ¨è„šæœ¬</title>
    <link href="/2019/01/07/ubuntu-18-04-1-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/"/>
    <id>/2019/01/07/ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬/</id>
    <published>2019-01-07T08:18:31.000Z</published>
    <updated>2019-01-30T09:23:28.061Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬"><a href="#ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬" class="headerlink" title="ubuntu 18.04.1 å¼€æœºå¯åŠ¨è„šæœ¬"></a>ubuntu 18.04.1 å¼€æœºå¯åŠ¨è„šæœ¬</h2><p><strong>ubuntu18.04ä¸å†ä½¿ç”¨initdç®¡ç†ç³»ç»Ÿï¼Œæ”¹ç”¨systemdã€‚ä¸ªäººè§‰å¾—systemdå¾ˆéš¾ç”¨ï¼Œæ”¹å˜å¤ªå¤§ï¼Œè·Ÿä¹‹å‰çš„å®Œå…¨ä¸åŒ</strong></p><p>ä¸ºäº†åƒä»¥å‰ä¸€æ ·ï¼Œåœ¨/etc/rc.localä¸­è®¾ç½®å¼€æœºå¯åŠ¨ç¨‹åºï¼Œéœ€è¦ä»¥ä¸‹å‡ æ­¥ï¼š</p><ol><li><p>systemdé»˜è®¤è¯»å–/etc/systemd/systemä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šé“¾æ¥/lib/systemd/system/ä¸‹çš„æ–‡ä»¶ã€‚ä¸€èˆ¬ç³»ç»Ÿå®‰è£…å®Œ/lib/systemd/system/ä¸‹ä¼šæœ‰rc-local.serviceæ–‡ä»¶ï¼Œå³æˆ‘ä»¬éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚ </p><p>é“¾æ¥è¿‡æ¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -fs /lib/systemd/system/rc-local.service /etc/systemd/system/rc-local.service</span><br></pre></td></tr></table></figure><p>æ‰“å¼€è„šæœ¬å†…å®¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/systemd/system/rc-local.service</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  SPDX-License-Identifier: LGPL-2.1+</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  This file is part of systemd.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#  systemd is free software; you can redistribute it and/or modify it</span></span><br><span class="line"><span class="comment">#  under the terms of the GNU Lesser General Public License as published by</span></span><br><span class="line"><span class="comment">#  the Free Software Foundation; either version 2.1 of the License, or</span></span><br><span class="line"><span class="comment">#  (at your option) any later version.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This unit gets pulled automatically into multi-user.target by</span></span><br><span class="line"><span class="comment"># systemd-rc-local-generator if /etc/rc.local is executable.</span></span><br><span class="line">[Unit]</span><br><span class="line">Description=/etc/rc.local Compatibility</span><br><span class="line">Documentation=man:systemd-rc-local-generator(8)</span><br><span class="line">ConditionFileIsExecutable=/etc/rc.local</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">ExecStart=/etc/rc.local start</span><br><span class="line">TimeoutSec=0</span><br><span class="line">RemainAfterExit=yes</span><br><span class="line">GuessMainPID=no</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æ­£å¸¸çš„å¯åŠ¨æ–‡ä»¶ä¸»è¦åˆ†æˆä¸‰éƒ¨åˆ†ï¼š</p><p>[Unit] æ®µ: å¯åŠ¨é¡ºåºä¸ä¾èµ–å…³ç³» </p><p>[Service] æ®µ: å¯åŠ¨è¡Œä¸º,å¦‚ä½•å¯åŠ¨ï¼Œå¯åŠ¨ç±»å‹<br>[Install] æ®µ: å®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå³æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨</p><p>å¯ä»¥çœ‹å‡ºï¼Œ/etc/rc.local çš„å¯åŠ¨é¡ºåºæ˜¯åœ¨ç½‘ç»œåé¢ï¼Œä½†æ˜¯æ˜¾ç„¶å®ƒå°‘äº† Install æ®µï¼Œä¹Ÿå°±æ²¡æœ‰å®šä¹‰å¦‚ä½•åšåˆ°å¼€æœºå¯åŠ¨ï¼Œæ‰€ä»¥æ˜¾ç„¶è¿™æ ·é…ç½®æ˜¯æ— æ•ˆçš„ã€‚ å› æ­¤æˆ‘ä»¬å°±éœ€è¦åœ¨åé¢å¸®ä»–åŠ ä¸Š [Install] æ®µ:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[Install]  </span><br><span class="line">WantedBy=multi-user.target  </span><br><span class="line">Alias=rc-local.service</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œubuntu-18.04 é»˜è®¤æ˜¯æ²¡æœ‰ /etc/rc.local è¿™ä¸ªæ–‡ä»¶çš„ï¼Œéœ€è¦è‡ªå·±åˆ›å»º</strong></p></li><li><p>åˆ›å»º/etc/rc.localæ–‡ä»¶ï¼ˆæœ‰çš„è¯ä¸ç”¨å†åˆ›å»ºäº†ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch /etc/rc.local</span><br></pre></td></tr></table></figure></li><li><p>èµ‹å¯æ‰§è¡Œæƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 755 /etc/rc.local</span><br></pre></td></tr></table></figure></li><li><p>ç¼–è¾‘rc.localï¼Œæ·»åŠ éœ€è¦å¼€æœºå¯åŠ¨çš„ä»»åŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh -e</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will "exit 0" on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤########################</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"this is a test"</span> &gt; /usr/<span class="built_in">local</span>/text.log</span><br><span class="line">sudo vncserver</span><br><span class="line"><span class="comment">######################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤-end######################</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>sudo vncserver</code>å°±æ˜¯éœ€è¦å¼€æœºå¯åŠ¨çš„ä»»åŠ¡ï¼ˆ<strong>æ³¨æ„ï¼šsudoå†™ä¸Šæœ‰ç›Šæ— å®³ï¼Œé¿å…ä¸å¿…è¦çš„éº»çƒ¦</strong>ï¼‰</p><p><code>echo &quot;this is a test&quot; &gt; /usr/local/text.log</code>æ˜¯æµ‹è¯•å¼€æœºè„šæœ¬æ˜¯å¦ç”Ÿæ•ˆç”¨çš„</p></li><li><p>æ‰§è¡Œrebooté‡å¯ç³»ç»Ÿï¼ˆæŸ¥çœ‹ /usr/local/text.log æ–‡ä»¶æ˜¯å¦å­˜åœ¨å°±çŸ¥é“å¼€æœºè„šæœ¬æ˜¯å¦ç”Ÿæ•ˆäº†ï¼‰</p></li></ol><h2 id="ubuntu-ä¸€èˆ¬æƒ…å†µ"><a href="#ubuntu-ä¸€èˆ¬æƒ…å†µ" class="headerlink" title="ubuntu - ä¸€èˆ¬æƒ…å†µ"></a>ubuntu - ä¸€èˆ¬æƒ…å†µ</h2><h3 id="å¼€æœºå¯åŠ¨è„šæœ¬"><a href="#å¼€æœºå¯åŠ¨è„šæœ¬" class="headerlink" title="å¼€æœºå¯åŠ¨è„šæœ¬"></a>å¼€æœºå¯åŠ¨è„šæœ¬</h3><p><a href="https://blog.veir.me/2017/11/04/ubuntu-start-shell-with-boot/#%E4%BF%AE%E6%94%B9etcrclocal%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener">å€Ÿé‰´äºæ­¤åšå®¢</a></p><p>å…ˆå†™ä¸€ä¸ªè„šæœ¬ï¼Œé‡Œé¢å†™ä¸Šæ‰§è¡Œè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå†ä½¿ç”¨<code>update-rc.d è„šæœ¬å defaults</code>å‘½ä»¤å°†æ”¹è„šæœ¬æ·»åŠ åˆ°ç³»ç»Ÿå¯åŠ¨ä»»åŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/init.d</span><br><span class="line">vim tale</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#program</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å…ˆå°†jdkçš„ç¯å¢ƒå‡†å¤‡å¥½</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/<span class="built_in">local</span>/jdk1.8</span><br><span class="line"><span class="built_in">export</span> JRE=<span class="variable">$JAVA_HOME</span>/jre</span><br><span class="line"><span class="built_in">export</span> CLASSPATH=<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE</span>/lib:.</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin/:<span class="variable">$JRE</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰§è¡Œå‘½ä»¤</span></span><br><span class="line">nohup java -jar /home/veir/tale/tale-least.jar &gt;/home/veir/tale/logs/tale.log  &amp;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><p>ä¿å­˜åï¼Œç»™è„šæœ¬æ·»åŠ å¯æ‰§è¡Œæƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x tale</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¼€æœºå¯åŠ¨æœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update-rc.d tale defaults</span><br><span class="line"><span class="comment">#defaultsåé¢å¯ä»¥åŠ ä¸€ä¸ªæ•°å­—ï¼Œä¾‹å¦‚99ï¼Œå®ƒè¡¨æ˜ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œè¶Šé«˜è¡¨ç¤ºæ‰§è¡Œçš„è¶Šæ™š</span></span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªéœ€è¦<strong>æ³¨æ„</strong>ï¼Œå¾ˆå¤šå‘½ä»¤çš„æ‰§è¡Œéœ€è¦ä¸€ä¸ªç³»ç»Ÿçš„ç¯å¢ƒï¼Œä¾‹å¦‚ä¸Šé¢çš„<code>java -jar xxx</code>å°±éœ€è¦jdkçš„ç¯å¢ƒæ”¯æŒï¼Œç„¶åå¾ˆæœ‰å¯èƒ½ï¼Œç³»ç»Ÿåœ¨æ‰§è¡Œæ­¤è„šæœ¬æ—¶ï¼Œjdkçš„ç¯å¢ƒè¿˜æ²¡æœ‰åŠ è½½è¿›æ¥ï¼Œæ‰€ä»¥å°±éœ€è¦æ‰‹åŠ¨åœ¨è¯¥è„šæœ¬ä¸­å£°æ˜éœ€è¦çš„ç¯å¢ƒ</p><h3 id="ä¿®æ”¹-etc-rc-localè„šæœ¬"><a href="#ä¿®æ”¹-etc-rc-localè„šæœ¬" class="headerlink" title="ä¿®æ”¹/etc/rc.localè„šæœ¬"></a>ä¿®æ”¹/etc/rc.localè„šæœ¬</h3><p>/etc/rc.localæ˜¯Linuxç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªè„šæœ¬ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªè„šæœ¬é‡Œé¢æ²¡æœ‰ä»»åŠ¡ã€‚ä¿®æ”¹è¿™ä¸ªè„šæœ¬å¯ä»¥å¯åŠ¨ä½ è‡ªå·±çš„åº”ç”¨ã€‚</p><p>ä¿®æ”¹æ–¹å¼å¾ˆç®€å•ï¼Œåœ¨æœ€åä¸€è¡Œ<code>exit 0</code>ä¹‹å‰åŠ ä¸Šå¼€å¯æœåŠ¡æˆ–åº”ç”¨çš„å‘½ä»¤å°±å¥½äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/rc.local</span><br></pre></td></tr></table></figure><p>å¾—åˆ°è§†å›¾å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/sh -e</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will "exit 0" on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤########################</span></span><br><span class="line"><span class="comment"># å¯åŠ¨xampp-å¯é“äº‘å¯è®¿é—®</span></span><br><span class="line">sudo /opt/lampp/lampp start</span><br><span class="line"><span class="comment">######################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤-end######################</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure><h2 id="centos-redhat-ä¸€èˆ¬æƒ…å†µ"><a href="#centos-redhat-ä¸€èˆ¬æƒ…å†µ" class="headerlink" title="centos/redhat - ä¸€èˆ¬æƒ…å†µ"></a>centos/redhat - ä¸€èˆ¬æƒ…å†µ</h2><h3 id="å¼€æœºå¯åŠ¨è„šæœ¬-1"><a href="#å¼€æœºå¯åŠ¨è„šæœ¬-1" class="headerlink" title="å¼€æœºå¯åŠ¨è„šæœ¬"></a>å¼€æœºå¯åŠ¨è„šæœ¬</h3><p>å…ˆå†™ä¸€ä¸ªè„šæœ¬ï¼Œé‡Œé¢å†™ä¸Šæ‰§è¡Œè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå†ä½¿ç”¨<code>update-rc.d è„šæœ¬å defaults</code>å‘½ä»¤å°†æ”¹è„šæœ¬æ·»åŠ åˆ°ç³»ç»Ÿå¯åŠ¨ä»»åŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/init.d</span><br><span class="line">vim lampp.sh</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨xampp-å¯é“äº‘å¯è®¿é—®</span></span><br><span class="line">sudo /opt/lampp/lampp start</span><br></pre></td></tr></table></figure><p>su -c â€˜/etc/init.d/lampp.shâ€™</p><p>ä¿å­˜åï¼Œç»™è„šæœ¬æ·»åŠ å¯æ‰§è¡Œæƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x lampp.sh</span><br></pre></td></tr></table></figure><p>æ‰“å¼€/etc/rc.d/rc.localæˆ–/etc/rc.localæ–‡ä»¶ï¼Œåœ¨æœ«å°¾å¢åŠ <code>/etc/init.d/lampp.sh</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is highly advisable to create own systemd services or udev rules</span></span><br><span class="line"><span class="comment"># to run scripts during boot instead of using this file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In contrast to previous versions due to parallel execution during boot</span></span><br><span class="line"><span class="comment"># this script will NOT be run after all other services.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure</span></span><br><span class="line"><span class="comment"># that this script will be executed during boot.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤########################</span></span><br><span class="line"><span class="comment"># å¯åŠ¨xampp-å¯é“äº‘å¯è®¿é—®</span></span><br><span class="line">/etc/init.d/lampp.sh</span><br><span class="line"><span class="comment">######################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤-end######################</span></span><br></pre></td></tr></table></figure><p>åœ¨centos7<code>(ä¸ä»…ä»…)</code>ä¸­ï¼Œ/etc/rc.d/rc.localçš„æƒé™è¢«é™ä½äº†ï¼Œæ‰€ä»¥éœ€è¦æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤èµ‹äºˆå…¶å¯æ‰§è¡Œæƒé™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-etc-rc-localè„šæœ¬-1"><a href="#ä¿®æ”¹-etc-rc-localè„šæœ¬-1" class="headerlink" title="ä¿®æ”¹/etc/rc.localè„šæœ¬"></a>ä¿®æ”¹/etc/rc.localè„šæœ¬</h3><p>/etc/rc.localæ˜¯Linuxç³»ç»Ÿå¯åŠ¨åè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªè„šæœ¬ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªè„šæœ¬é‡Œé¢æ²¡æœ‰ä»»åŠ¡ã€‚ä¿®æ”¹è¿™ä¸ªè„šæœ¬å¯ä»¥å¯åŠ¨ä½ è‡ªå·±çš„åº”ç”¨ã€‚</p><p>ä¿®æ”¹æ–¹å¼å¾ˆç®€å•ï¼Œåœ¨æœ€ååŠ ä¸Šå¼€å¯æœåŠ¡æˆ–åº”ç”¨çš„å‘½ä»¤å°±å¥½äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/rc.local</span><br></pre></td></tr></table></figure><p>å¾—åˆ°è§†å›¾å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># It is highly advisable to create own systemd services or udev rules</span></span><br><span class="line"><span class="comment"># to run scripts during boot instead of using this file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In contrast to previous versions due to parallel execution during boot</span></span><br><span class="line"><span class="comment"># this script will NOT be run after all other services.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure</span></span><br><span class="line"><span class="comment"># that this script will be executed during boot.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤########################</span></span><br><span class="line"><span class="comment"># å¯åŠ¨xampp-å¯é“äº‘å¯è®¿é—®</span></span><br><span class="line">sudo /opt/lampp/lampp start</span><br><span class="line"><span class="comment">######################æ‰‹åŠ¨æ·»åŠ çš„å‘½ä»¤-end######################</span></span><br></pre></td></tr></table></figure><p>å¯åœ¨ä»¥ä¸Šè§†å›¾ä¸­å‘ç°æœ‰ä¸€å¥<code># Please note that you must run &#39;chmod +x /etc/rc.d/rc.local&#39; to ensure</code>ä¸­æ–‡ç¿»è¯‘<code>è¯·æ³¨æ„ï¼Œæ‚¨å¿…é¡»è¿è¡Œâ€œchmod +x /etc/rc.d/rc.æ‰èƒ½ç¡®ä¿æˆåŠŸ</code> - æ„æ€å¾ˆæ˜æ˜¾äº†ï¼</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬&quot;&gt;&lt;a href=&quot;#ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬&quot; class=&quot;headerlink&quot; title=&quot;ubuntu 18.04.1 å¼€æœºå¯åŠ¨è„šæœ¬&quot;&gt;&lt;/a&gt;ubuntu 18.04.1 å¼€æœºå¯åŠ¨è„šæœ¬&lt;/
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="Ubuntu" scheme="/tags/Ubuntu/"/>
    
      <category term="CentOS" scheme="/tags/CentOS/"/>
    
      <category term="RedHat" scheme="/tags/RedHat/"/>
    
      <category term="å¼€æœºå¯åŠ¨" scheme="/tags/%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ä»¶æ‰“åŒ…-è§£å‹-ä¸‹è½½</title>
    <link href="/2018/12/28/%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85-%E8%A7%A3%E5%8E%8B-%E4%B8%8B%E8%BD%BD/"/>
    <id>/2018/12/28/æ–‡ä»¶æ‰“åŒ…-è§£å‹-ä¸‹è½½/</id>
    <published>2018-12-28T03:07:17.000Z</published>
    <updated>2018-12-29T03:17:03.749Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ–‡ä»¶æ‰“åŒ…"><a href="#æ–‡ä»¶æ‰“åŒ…" class="headerlink" title="æ–‡ä»¶æ‰“åŒ…"></a>æ–‡ä»¶æ‰“åŒ…</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–‡ä»¶æ‰“åŒ…</span></span><br><span class="line"><span class="comment"> * å°†ä¼ é€’è¿‡æ¥çš„æ–‡ä»¶åˆ—è¡¨å†™å…¥zipæ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileList è¦æ‰“åŒ…çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> zipFileName æ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">downZipManyFile</span><span class="params">(List&lt;File&gt; fileList, String zipFileName)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">    BufferedInputStream br = <span class="keyword">null</span>;<span class="comment">//è¾“å…¥æµ</span></span><br><span class="line">    ZipOutputStream out = <span class="keyword">null</span>; <span class="comment">// å‹ç¼©æ–‡ä»¶è¾“å‡ºæµ</span></span><br><span class="line">    ZipEntry zip = <span class="keyword">null</span>; <span class="comment">//ç”¨äºè¡¨ç¤º ZIP æ–‡ä»¶æ¡ç›®ã€‚</span></span><br><span class="line">    <span class="keyword">int</span> size =-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span>  <span class="keyword">byte</span>[<span class="number">2048</span>];<span class="comment">// å®šä¹‰ç¼“å†²åŒº</span></span><br><span class="line">    <span class="keyword">if</span>(fileList.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        out = <span class="keyword">new</span> ZipOutputStream(<span class="keyword">new</span> FileOutputStream(zipFileName));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; fileList.size(); i++) &#123;</span><br><span class="line">            File f =fileList.get(i);</span><br><span class="line">            zip = <span class="keyword">new</span> ZipEntry(f.getName());</span><br><span class="line">            out.putNextEntry(zip);</span><br><span class="line">            br = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(f));</span><br><span class="line">            <span class="keyword">while</span>((size=br.read(buffer))!=-<span class="number">1</span>)&#123;</span><br><span class="line">                out.write(buffer,<span class="number">0</span>,size);</span><br><span class="line">                out.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        zip.clone();</span><br><span class="line">        br.close();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¤šç§å‹ç¼©æ–‡ä»¶è§£å‹"><a href="#å¤šç§å‹ç¼©æ–‡ä»¶è§£å‹" class="headerlink" title="å¤šç§å‹ç¼©æ–‡ä»¶è§£å‹"></a>å¤šç§å‹ç¼©æ–‡ä»¶è§£å‹</h2><p><strong>åŒ…å«å®ç°å¯¹.zipã€.rarã€.7zã€.tarã€.tar.gzçš„è§£å‹</strong></p><p>Maven</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- .<span class="number">7</span>z --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;sevenzipjbinding&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;9.20-2.00beta&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;net.sf.sevenzipjbinding&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;sevenzipjbinding-all-platforms&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;9.20-2.00beta&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- .<span class="number">7</span>z end --&gt;</span><br><span class="line">    </span><br><span class="line">&lt;!-- .tar/.tar.gz --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;ant&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.10.4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- .tar/.tar.gz end --&gt;</span><br></pre></td></tr></table></figure><p>ä»£ç å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åŠŸèƒ½ï¼šå¤šç§æ ¼å¼å‹ç¼©æ–‡ä»¶è§£å‹(.zipã€.rarã€.7zã€.tarã€.tar.gz)*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨gbkç¼–ç é¿å…zipè§£å‹ä¸­æ–‡æ–‡ä»¶åä¹±ç </span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String CHINESE_CHARSET = <span class="string">"gbk"</span>;</span><br><span class="line"><span class="comment">//æ–‡ä»¶è¯»å–ç¼“å†²åŒºå¤§å°</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CACHE_SIZE = <span class="number">1024</span>;</span><br><span class="line"><span class="comment">//ç³»ç»Ÿç±»å‹</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String WINDOWS=<span class="string">"windows"</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String LINUX=<span class="string">"linux"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šç§æ ¼å¼å‹ç¼©æ–‡ä»¶è§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deCompress</span><span class="params">(String srcFileName, String destDir)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­˜å‚¨è·¯å¾„ä¸å­˜åœ¨åˆ™åˆ›å»º</span></span><br><span class="line">    File dFile=<span class="keyword">new</span> File(destDir);</span><br><span class="line">    <span class="keyword">if</span> (!dFile.exists()) &#123;</span><br><span class="line">        dFile.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (srcFileName.toLowerCase().endsWith(<span class="string">".zip"</span>)) &#123;</span><br><span class="line">        unZip(srcFileName, destDir);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (srcFileName.toLowerCase().endsWith(<span class="string">".rar"</span>)) &#123;</span><br><span class="line">        unRar(srcFileName, destDir);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (srcFileName.toLowerCase().endsWith(<span class="string">".7z"</span>)) &#123;</span><br><span class="line">        un7Z(srcFileName, destDir);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (srcFileName.toLowerCase().endsWith(<span class="string">".tar"</span>)) &#123;</span><br><span class="line">        unTar(srcFileName, destDir);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (srcFileName.toLowerCase().endsWith(<span class="string">".tar.gz"</span>)) &#123;</span><br><span class="line">        unTarGz(srcFileName, destDir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * .zipæ ¼å¼è§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unZip</span><span class="params">(String srcFileName, String destDir)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        ZipFile zip = <span class="keyword">new</span> ZipFile(srcFileName, Charset.forName(CHINESE_CHARSET));</span><br><span class="line">        <span class="comment">//å¾ªç¯éå†</span></span><br><span class="line">        <span class="keyword">for</span> (Enumeration&lt;? extends ZipEntry&gt; entries = zip.entries(); </span><br><span class="line">             entries.hasMoreElements();) &#123;</span><br><span class="line">            ZipEntry entry = entries.nextElement();</span><br><span class="line">            String zipEntryName = entry.getName();</span><br><span class="line">            InputStream in = zip.getInputStream(entry);</span><br><span class="line">            String outPath = (destDir +<span class="string">"/"</span>+ zipEntryName).replaceAll(<span class="string">"\\*"</span>, <span class="string">"/"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨,ä¸å­˜åœ¨åˆ™åˆ›å»ºæ–‡ä»¶è·¯å¾„</span></span><br><span class="line">            File file = <span class="keyword">new</span> File(outPath.substring(<span class="number">0</span>, outPath.lastIndexOf(<span class="string">'/'</span>)));</span><br><span class="line">            <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">                file.mkdirs();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ–‡ä»¶å…¨è·¯å¾„æ˜¯å¦ä¸ºæ–‡ä»¶å¤¹,å¦‚æœæ˜¯ä¸Šé¢å·²ç»ä¸Šä¼ ,ä¸éœ€è¦è§£å‹</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">new</span> File(outPath).isDirectory()) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            FileOutputStream out = <span class="keyword">new</span> FileOutputStream(outPath);</span><br><span class="line">            <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[CACHE_SIZE];</span><br><span class="line">            <span class="keyword">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = in.read(buf)) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                out.write(buf, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            in.close();</span><br><span class="line">            out.close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * .raræ ¼å¼è§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unRar</span><span class="params">(String srcFileName, String destDir)</span></span>&#123;</span><br><span class="line">    String cmd = <span class="keyword">null</span>;</span><br><span class="line">    String unRarCmd = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (systemType().equals(WINDOWS)) &#123;</span><br><span class="line">            <span class="comment">//è§£å‹æ¨¡æ¿å‘½ä»¤</span></span><br><span class="line">            unRarCmd = <span class="string">"F:\\Program Files (x86)\\WinRAR\\WinRAR.exe x "</span>;</span><br><span class="line">            <span class="comment">//æ„å»ºè§£å‹å‘½ä»¤</span></span><br><span class="line">            cmd = unRarCmd + srcFileName + <span class="string">" "</span> + destDir;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (systemType().equals(LINUX)) &#123;</span><br><span class="line">            <span class="comment">//è§£å‹æ¨¡æ¿å‘½ä»¤</span></span><br><span class="line">            unRarCmd = <span class="string">"unrar x "</span>;</span><br><span class="line">            <span class="comment">//æ„å»ºè§£å‹å‘½ä»¤</span></span><br><span class="line">            cmd = unRarCmd + srcFileName + <span class="string">" "</span> + destDir;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ„é€ è¿è¡Œå¯¹è±¡</span></span><br><span class="line">        Runtime rt = Runtime.getRuntime();</span><br><span class="line">        <span class="comment">//åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­æ‰§è¡ŒæŒ‡å®šçš„å­—ç¬¦ä¸²å‘½ä»¤ã€‚</span></span><br><span class="line">        rt.exec(cmd);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * .7zæ ¼å¼è§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">un7Z</span><span class="params">(String srcFileName, String destDir)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    RandomAccessFile randomAccessFile = <span class="keyword">null</span>;</span><br><span class="line">    IInArchive inArchive = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        randomAccessFile = <span class="keyword">new</span> RandomAccessFile(srcFileName, <span class="string">"r"</span>);</span><br><span class="line">        inArchive = SevenZip.</span><br><span class="line">            openInArchive(<span class="keyword">null</span>,<span class="keyword">new</span> RandomAccessFileInStream(randomAccessFile));</span><br><span class="line"></span><br><span class="line">        ISimpleInArchive simpleInArchive = inArchive.getSimpleInterface();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//éå†</span></span><br><span class="line">        <span class="keyword">for</span> (ISimpleInArchiveItem item : simpleInArchive.getArchiveItems()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] hash = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">0</span> &#125;;</span><br><span class="line">            <span class="keyword">if</span> (!item.isFolder()) &#123;</span><br><span class="line">                ExtractOperationResult result;</span><br><span class="line">                <span class="keyword">long</span>[] sizeArray = <span class="keyword">new</span> <span class="keyword">long</span>[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">                <span class="comment">//tarFileæ˜¯éå†çš„æ¯ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">                File tarFile=<span class="keyword">new</span> File(destDir+File.separator+item.getPath());</span><br><span class="line">                <span class="comment">//tarFileçˆ¶ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">                <span class="keyword">if</span> (!tarFile.getParentFile().exists()) &#123;</span><br><span class="line">                    tarFile.getParentFile().mkdirs();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//åˆ›å»ºtarFileæ–‡ä»¶</span></span><br><span class="line">                tarFile.createNewFile();</span><br><span class="line"></span><br><span class="line">                result = item.extractSlow(<span class="keyword">new</span> ISequentialOutStream() &#123;</span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">write</span><span class="params">(<span class="keyword">byte</span>[] data)</span> <span class="keyword">throws</span> SevenZipException </span>&#123;</span><br><span class="line">                        FileOutputStream fos=<span class="keyword">null</span>;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            fos = <span class="keyword">new</span> FileOutputStream(tarFile.getAbsolutePath());</span><br><span class="line">                            <span class="comment">//å°†æ•°æ®å†™å…¥fos</span></span><br><span class="line">                            fos.write(data);</span><br><span class="line">                            fos.flush();</span><br><span class="line">                            fos.close();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line">                        hash[<span class="number">0</span>] ^= Arrays.hashCode(data);</span><br><span class="line">                        sizeArray[<span class="number">0</span>] += data.length;</span><br><span class="line">                        <span class="keyword">return</span> data.length;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        System.exit(<span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (inArchive != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                inArchive.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SevenZipException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (randomAccessFile != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                randomAccessFile.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * .taræ ¼å¼è§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unTar</span><span class="params">(String srcFileName, String destDir)</span></span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    TarInputStream tarInputStream = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fis = <span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(srcFileName));</span><br><span class="line">        tarInputStream = <span class="keyword">new</span> TarInputStream(fis, CACHE_SIZE);</span><br><span class="line"></span><br><span class="line">        TarEntry entry = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            entry = tarInputStream.getNextEntry();</span><br><span class="line">            <span class="keyword">if</span>( entry == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(entry.isDirectory())&#123;</span><br><span class="line">                System.out.println(entry.getName());</span><br><span class="line">                createDirectory(destDir, entry.getName()); <span class="comment">// åˆ›å»ºå­ç›®å½•</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(destDir + File.separator + </span><br><span class="line">                                                    entry.getName()));</span><br><span class="line">                <span class="keyword">int</span> count;</span><br><span class="line">                <span class="keyword">byte</span> data[] = <span class="keyword">new</span> <span class="keyword">byte</span>[CACHE_SIZE];</span><br><span class="line">                <span class="keyword">while</span> ((count = tarInputStream.read(data)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                    fos.write(data, <span class="number">0</span>, count);</span><br><span class="line">                &#125;</span><br><span class="line">                fos.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(tarInputStream != <span class="keyword">null</span>)&#123;</span><br><span class="line">                tarInputStream.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * .tar.gzè§£å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> srcFileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> destDir è§£å‹åå­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">unTarGz</span><span class="params">(String srcFileName, String destDir)</span></span>&#123;</span><br><span class="line">    FileInputStream  fileInputStream = <span class="keyword">null</span>;</span><br><span class="line">    BufferedInputStream bufferedInputStream = <span class="keyword">null</span>;</span><br><span class="line">    GZIPInputStream gzipIn = <span class="keyword">null</span>;</span><br><span class="line">    TarInputStream tarIn = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream out = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(srcFileName));</span><br><span class="line">        bufferedInputStream = <span class="keyword">new</span> BufferedInputStream(fileInputStream);</span><br><span class="line">        gzipIn = <span class="keyword">new</span> GZIPInputStream(bufferedInputStream);</span><br><span class="line">        tarIn = <span class="keyword">new</span> TarInputStream(gzipIn, CACHE_SIZE);</span><br><span class="line"></span><br><span class="line">        TarEntry entry = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>((entry = tarIn.getNextEntry()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(entry.isDirectory())&#123; <span class="comment">// æ˜¯ç›®å½•</span></span><br><span class="line">                createDirectory(destDir, entry.getName()); <span class="comment">// åˆ›å»ºå­ç›®å½•</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123; <span class="comment">// æ˜¯æ–‡ä»¶</span></span><br><span class="line">                File tempFIle = <span class="keyword">new</span> File(destDir + File.separator + entry.getName());</span><br><span class="line">                createDirectory(tempFIle.getParent() + File.separator, <span class="keyword">null</span>);</span><br><span class="line">                out = <span class="keyword">new</span> FileOutputStream(tempFIle);</span><br><span class="line">                <span class="keyword">int</span> len =<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[CACHE_SIZE];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> ((len = tarIn.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                    out.write(b, <span class="number">0</span>, len);</span><br><span class="line">                &#125;</span><br><span class="line">                out.flush();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(out != <span class="keyword">null</span>)&#123;</span><br><span class="line">                out.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(tarIn != <span class="keyword">null</span>)&#123;</span><br><span class="line">                tarIn.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(gzipIn != <span class="keyword">null</span>)&#123;</span><br><span class="line">                gzipIn.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(bufferedInputStream != <span class="keyword">null</span>)&#123;</span><br><span class="line">                bufferedInputStream.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(fileInputStream != <span class="keyword">null</span>)&#123;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  æ„å»ºç›®å½•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> outputDir è¾“å‡ºç›®å½•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> subDir å­ç›®å½•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">createDirectory</span><span class="params">(String outputDir, String subDir)</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(outputDir);</span><br><span class="line">    <span class="keyword">if</span>(!(subDir == <span class="keyword">null</span> || subDir.trim().equals(<span class="string">""</span>))) &#123;<span class="comment">//å­ç›®å½•ä¸ä¸ºç©º</span></span><br><span class="line">        file = <span class="keyword">new</span> File(outputDir + File.separator + subDir);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">        <span class="keyword">if</span>(!file.getParentFile().exists())&#123;</span><br><span class="line">            file.getParentFile().mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        file.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ¤æ–­ç¨‹åºè¿è¡Œåœ¨ä»€ä¹ˆç³»ç»Ÿä¸Š</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> ç³»ç»Ÿç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">systemType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Properties properties = System.getProperties();</span><br><span class="line">    String os = properties.getProperty(<span class="string">"os.name"</span>);</span><br><span class="line">    <span class="keyword">if</span> (os != <span class="keyword">null</span> &amp;&amp; os.toLowerCase().contains(WINDOWS))&#123;</span><br><span class="line">        <span class="keyword">return</span> WINDOWS;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (os != <span class="keyword">null</span> &amp;&amp; os.toLowerCase().contains(LINUX))&#123;</span><br><span class="line">        <span class="keyword">return</span> LINUX;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//deCompress("E:/Test/Test01.zip","E:/Test/testZip");</span></span><br><span class="line">    <span class="comment">//deCompress("E:/Test/Test02.rar","E:/Test/testRar");</span></span><br><span class="line">    <span class="comment">//deCompress("E:/Test/Test03.7z","E:/Test/test7z");</span></span><br><span class="line">    <span class="comment">//deCompress("E:/Test/Test04.tar","E:/Test/testTar");</span></span><br><span class="line">    <span class="comment">//deCompress("E:/Test/apache-tomcat-9.0.13-src.tar.gz","E:/Test/testTarGz");</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶"><a href="#ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶"></a>ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–‡ä»¶ä¸‹è½½</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> zipFileName zipæ–‡ä»¶å…¨è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> isDelete æ˜¯å¦å°†ç”Ÿæˆçš„æœåŠ¡å™¨ç«¯æ–‡ä»¶åˆ é™¤</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> ReturnT&lt;?&gt; downloadFile(String zipFileName, </span><br><span class="line">                               HttpServletResponse response, <span class="keyword">boolean</span> isDelete) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        File file=<span class="keyword">new</span> File(zipFileName);</span><br><span class="line">        <span class="comment">// ä»¥æµçš„å½¢å¼ä¸‹è½½æ–‡ä»¶ã€‚</span></span><br><span class="line">        BufferedInputStream fis = </span><br><span class="line">            <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(file.getPath()));</span><br><span class="line">        <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[fis.available()];</span><br><span class="line">        fis.read(buffer);</span><br><span class="line">        fis.close();</span><br><span class="line">        <span class="comment">// æ¸…ç©ºresponse</span></span><br><span class="line">        response.reset();</span><br><span class="line">        OutputStream toClient = <span class="keyword">new</span> BufferedOutputStream(response.getOutputStream());</span><br><span class="line">        response.setContentType(<span class="string">"application/octet-stream"</span>);</span><br><span class="line">        response.setHeader(<span class="string">"Content-Disposition"</span>, <span class="string">"attachment;filename="</span> + </span><br><span class="line">                           <span class="keyword">new</span> String(file.getName().getBytes(<span class="string">"UTF-8"</span>),<span class="string">"ISO-8859-1"</span>));</span><br><span class="line">        toClient.write(buffer);</span><br><span class="line">        toClient.flush();</span><br><span class="line">        toClient.close();</span><br><span class="line">        <span class="keyword">if</span>(isDelete) &#123;</span><br><span class="line">            <span class="comment">//å°†ç”Ÿæˆçš„æœåŠ¡å™¨ç«¯æ–‡ä»¶åˆ é™¤</span></span><br><span class="line">            file.delete();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ReturnT(HttpStatus.OK, <span class="string">"ä¸‹è½½æˆåŠŸ"</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        logger.error(<span class="string">"ä¸‹è½½å¤±è´¥"</span>,e);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ReturnT(HttpStatus.NOT_FOUND, <span class="string">"ä¸‹è½½å¤±è´¥"</span>, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶å®ƒæ–‡ä»¶æ“ä½œ"><a href="#å…¶å®ƒæ–‡ä»¶æ“ä½œ" class="headerlink" title="å…¶å®ƒæ–‡ä»¶æ“ä½œ"></a>å…¶å®ƒæ–‡ä»¶æ“ä½œ</h2><h3 id="è·å–å•ä¸ªæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹"><a href="#è·å–å•ä¸ªæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹" class="headerlink" title="è·å–å•ä¸ªæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹"></a>è·å–å•ä¸ªæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å•ä¸ªæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileName æ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">readToString</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(fileName);</span><br><span class="line">        Long filelength = file.length();</span><br><span class="line">        <span class="keyword">byte</span>[] filecontent = <span class="keyword">new</span> <span class="keyword">byte</span>[filelength.intValue()];</span><br><span class="line">        FileInputStream in = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">        in.read(filecontent);</span><br><span class="line">        in.close();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(filecontent, encoding);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        logger.error(<span class="string">"è¯¥æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯"</span>,e);</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        logger.error(<span class="string">"è¯»å–æ–‡ä»¶å‡ºé”™"</span>,e);</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·å–å¤šä¸ªæ–‡ä»¶çš„æ–‡ä»¶ååˆ—è¡¨-å…¨è·¯å¾„"><a href="#è·å–å¤šä¸ªæ–‡ä»¶çš„æ–‡ä»¶ååˆ—è¡¨-å…¨è·¯å¾„" class="headerlink" title="è·å–å¤šä¸ªæ–‡ä»¶çš„æ–‡ä»¶ååˆ—è¡¨(å…¨è·¯å¾„)"></a>è·å–å¤šä¸ªæ–‡ä»¶çš„æ–‡ä»¶ååˆ—è¡¨(å…¨è·¯å¾„)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å¤šä¸ªæ–‡ä»¶æ–‡ä»¶åˆ—è¡¨(å…¨è·¯å¾„)</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileDir æ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> picturePath å›¾ç‰‡ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> è¿”å›å¸¦åŸŸåçš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">readToListPath</span><span class="params">(String fileDir, String picturePath, HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è·å–å¸¦éƒ¨ç½²ç¯å¢ƒä¸Šä¸‹æ–‡çš„åŸŸå</span></span><br><span class="line">    StringBuffer url = request.getRequestURL();</span><br><span class="line">    String tempContextUrl = url</span><br><span class="line">        .delete(url.length() - request.getRequestURI().length(), url.length())</span><br><span class="line">        .append(request.getContextPath()).toString();</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; fileNameList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        List&lt;File&gt; fileList = getFilePath(fileDir,<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">if</span> (fileList.size()==<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> fileNameList;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (File f1 : fileList) &#123;</span><br><span class="line">            fileNameList.add(tempContextUrl+picturePath+<span class="string">"/"</span>+f1.getName());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fileNameList;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        logger.error(<span class="string">"è·å–å¤šä¸ªæ–‡ä»¶æ–‡ä»¶åˆ—è¡¨å¼‚å¸¸"</span>,e);</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·å–å¤šä¸ªæ–‡ä»¶çš„å†…å®¹åˆ—è¡¨"><a href="#è·å–å¤šä¸ªæ–‡ä»¶çš„å†…å®¹åˆ—è¡¨" class="headerlink" title="è·å–å¤šä¸ªæ–‡ä»¶çš„å†…å®¹åˆ—è¡¨"></a>è·å–å¤šä¸ªæ–‡ä»¶çš„å†…å®¹åˆ—è¡¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å¤šä¸ªæ–‡ä»¶å†…å®¹åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileDir æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">readToListAndString</span><span class="params">(String fileDir)</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        List&lt;String&gt; fileContentList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        List&lt;File&gt; fileList = getFilePath(fileDir,<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">for</span> (File file : fileList)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!readToString(file.toString()).equals(<span class="string">""</span>))&#123;</span><br><span class="line">                fileContentList.add(readToString(file.toString()));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fileContentList;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        logger.error(<span class="string">"è·å–å¤šä¸ªæ–‡ä»¶å†…å®¹åˆ—è¡¨å¼‚å¸¸"</span>,e);</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€’å½’è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶"><a href="#é€’å½’è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶" class="headerlink" title="é€’å½’è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶"></a>é€’å½’è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€’å½’è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileDir æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;File&gt; <span class="title">getFilePath</span><span class="params">(String fileDir,String endsWith)</span></span>&#123;</span><br><span class="line">    List&lt;File&gt; fileList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    File file = <span class="keyword">new</span> File(fileDir);</span><br><span class="line">    File[] files = file.listFiles();<span class="comment">// è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">if</span> (files == <span class="keyword">null</span>) &#123;<span class="comment">// å¦‚æœç›®å½•ä¸ºç©ºï¼Œè¿”å›ç©º</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// éå†ï¼Œç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">        <span class="keyword">if</span> (f.isFile()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(endsWith.equals(<span class="string">""</span>)||endsWith==<span class="keyword">null</span>)&#123;</span><br><span class="line">                fileList.add(f);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (f.getName().endsWith(endsWith))&#123;</span><br><span class="line">                    fileList.add(f);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (f.isDirectory()) &#123;</span><br><span class="line">            getFilePath(f.getAbsolutePath(),endsWith);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fileList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€’å½’åˆ é™¤æ–‡ä»¶ï¼ˆåˆ é™¤æ–‡ä»¶å¤¹ï¼‰"><a href="#é€’å½’åˆ é™¤æ–‡ä»¶ï¼ˆåˆ é™¤æ–‡ä»¶å¤¹ï¼‰" class="headerlink" title="é€’å½’åˆ é™¤æ–‡ä»¶ï¼ˆåˆ é™¤æ–‡ä»¶å¤¹ï¼‰"></a>é€’å½’åˆ é™¤æ–‡ä»¶ï¼ˆåˆ é™¤æ–‡ä»¶å¤¹ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€’å½’åˆ é™¤ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> dir ç›®å½•è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">deleteDir</span><span class="params">(File dir)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dir.isDirectory()) &#123;</span><br><span class="line">        String[] children = dir.list();</span><br><span class="line">        <span class="comment">//é€’å½’åˆ é™¤ç›®å½•ä¸­çš„å­ç›®å½•ä¸‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;children.length; i++) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> success = deleteDir(<span class="keyword">new</span> File(dir, children[i]));</span><br><span class="line">            <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç›®å½•æ­¤æ—¶ä¸ºç©ºæˆ–è€…æ˜¯æ–‡ä»¶ï¼Œå¯ä»¥åˆ é™¤</span></span><br><span class="line">    <span class="keyword">return</span> dir.delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ–‡ä»¶æ‰“åŒ…&quot;&gt;&lt;a href=&quot;#æ–‡ä»¶æ‰“åŒ…&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ä»¶æ‰“åŒ…&quot;&gt;&lt;/a&gt;æ–‡ä»¶æ‰“åŒ…&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="æ–‡ä»¶æ‰“åŒ…" scheme="/tags/%E6%96%87%E4%BB%B6%E6%89%93%E5%8C%85/"/>
    
      <category term="å‹ç¼©æ–‡ä»¶è§£å‹" scheme="/tags/%E5%8E%8B%E7%BC%A9%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B/"/>
    
  </entry>
  
  <entry>
    <title>linuxç¯å¢ƒä¸‹å®‰è£… openOffice å¹¶å¯åŠ¨æœåŠ¡</title>
    <link href="/2018/12/25/linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85-openOffice-%E5%B9%B6%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1/"/>
    <id>/2018/12/25/linuxç¯å¢ƒä¸‹å®‰è£…-openOffice-å¹¶å¯åŠ¨æœåŠ¡/</id>
    <published>2018-12-25T02:07:07.000Z</published>
    <updated>2019-01-10T08:06:15.269Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯æ•…äº‹"><a href="#èƒŒæ™¯æ•…äº‹" class="headerlink" title="èƒŒæ™¯æ•…äº‹"></a>èƒŒæ™¯æ•…äº‹</h2><p>è¿™ä¸¤å¤©é‡åˆ°ä¸€ä¸ªå¤§å‘ï¼Œå®¢æˆ·è¦åšoffice æ–‡æ¡£åœ¨çº¿é¢„è§ˆåŠŸèƒ½ï¼Œäºæ˜¯ä¹å°±è¦æŠŠofficeæ–‡æ¡£è½¬æ¢æˆpdfäº¤ç»™å‰ç«¯æ˜¾ç¤ºã€‚</p><p>ã€€     åœ¨æŸåº¦æ‰¾äº†ä¸€åœˆéƒ½è¯´openOffice+jodconverter å¯ä»¥æå®šè¿™ä¸ªäº‹æƒ…ã€‚ä»£ç å€’æ˜¯å¾ˆå¥½æ‰¾ï¼Œä¸è¿‡ç‰ˆæœ¬å¾ˆå¤šï¼Œå„ç±»jaråŒ…ä¹Ÿå¾ˆå¤šï¼Œä½†å°è¯•ä¸‹æ¥å‘ç°ï¼Œè½¬åŒ–æ•ˆæœå¾ˆä¸€èˆ¬ï¼Œå¤æ‚çš„excelä¹Ÿæ— æ³•æˆåŠŸã€‚æœ‰åŒäº‹å»ºè®®æ”¾åˆ°æœåŠ¡å™¨ä¸Šæ•ˆæœå¯èƒ½å¥½äº›ï¼Œäºæ˜¯å°±å¼€å§‹æŠ˜è…¾åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…OpenOfficeè¿™ä¸ªäº‹æƒ…ã€‚ç½‘ä¸Šå„ç§æ‰¾å¤§ç¥çš„åšæ–‡ï¼Œå‘ç°å®‰è£…èµ·æ¥ä¸æ˜¯å¾ˆé¡ºç•…ï¼Œå°±å†™äº†è¿™ç¯‡éšç¬”ï¼Œè®°å½•ä¸€ä¸‹ï¼Œé‡åˆ°çš„é—®é¢˜ï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åæŸ¥çœ‹ã€‚</p><p>â€‹    openOfficeè½¬è½¬wordæ–‡æ¡£æ•ˆæœä¸é”™ï¼Œè½¬Excelçš„è¯å°±çœŸçš„æ•ˆæœä¸è¡Œï¼Œç®€å•çš„Excelèƒ½å¤„ç†å¤„ç†ï¼Œå¤æ‚çš„å°±å¾ˆæ…¢å¾ˆæ…¢ï¼Œè€Œä¸”æ•ˆæœæå·®ã€‚å†è¯´ï¼Œå®é™…ä¸Šå¾®è½¯è‡ªå·±çš„officeè½¯ä»¶è½¬pdfçš„æ•ˆæœä¹Ÿå¾ˆå·®ã€‚</p><h2 id="æ“ä½œæ­¥éª¤"><a href="#æ“ä½œæ­¥éª¤" class="headerlink" title="æ“ä½œæ­¥éª¤"></a>æ“ä½œæ­¥éª¤</h2><ol><li><p><a href="http://www.openoffice.org/zh-cn/download/" target="_blank" rel="noopener">http://www.openoffice.org/zh-cn/download/</a> å»å®˜ç½‘é“¾æ¥ä¸‹è½½linuxç‰ˆæœ¬çš„openOffice ä»¥4.1.6 ç‰ˆæœ¬ä¸ºä¾‹ã€‚</p></li><li><p>å°†å‹ç¼©åŒ…ä¸Šä¼ è‡³æœåŠ¡å™¨ä¸Šï¼Œå¹¶è¿›è¡Œè§£å‹å®‰è£…ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf  å¯¹åº”çš„å‹ç¼©åŒ…åå­—</span><br><span class="line"><span class="built_in">cd</span> è¿›å…¥è§£å‹åçš„ /zh-cn/RPMS</span><br><span class="line">yum localinstall *.rpm</span><br><span class="line"><span class="built_in">cd</span> desktop-integration</span><br><span class="line">rpm -ivh openoffice4.1.6-redhat-menus-4.1.6-9789.noarch.rpm</span><br></pre></td></tr></table></figure><p>é»˜è®¤ä¼šå®‰è£…åœ¨/optç›®å½•ä¸‹ã€‚</p></li><li><p>å¯åŠ¨æœåŠ¡</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/opt/openoffice4/program/soffice -headless -accept=<span class="string">"socket,host=127.0.0.1,port=8100;urp;"</span> -nofirststartwizard  ä¸´æ—¶å¯åŠ¨</span><br><span class="line"></span><br><span class="line">nohup /opt/openoffice4/program/soffice -headless -accept=<span class="string">"socket,host=127.0.0.1,port=8100;urp;"</span> -nofirststartwizard &amp;  åå°å¯åŠ¨</span><br></pre></td></tr></table></figure><p>ç«¯å£å·æ ¹æ®è‡ªå·±é¡¹ç›®å®é™…æ¥ç¡®å®šã€‚</p><p>åå°å¯åŠ¨ä¼šä¸€ç›´å ç”¨å†…å­˜ï¼Œæ®å„è·¯å¤§ç¥è¯´ å¤§æ¦‚100Mï¼Œæˆ‘è‡ªå·±æ²¡æµ‹è¿‡å…·ä½“å€¼ä¸æ¸…æ¥šã€‚</p><p>æœ‰çš„ç¨‹åºæ˜¯éœ€è¦é¢„å…ˆå¯åŠ¨openOffice æœåŠ¡çš„ï¼Œæœ‰çš„åˆ™åœ¨ä»£ç é‡Œè‡ªå·±å¯åŠ¨æœåŠ¡ã€‚</p></li><li><p>.æŸ¥çœ‹è¿›ç¨‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lnp |grep ç«¯å£å·</span><br></pre></td></tr></table></figure><p>å¤§æ¦‚æ˜¾ç¤ºæˆè¿™æ ·å°±ç®—å¯åŠ¨å®Œäº†ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp      0       0 127.0.0.1:8100      0.0.0.0:*      LISTEN      14362/soffice.bin</span><br></pre></td></tr></table></figure></li></ol><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>è£…å®Œopenofficeåå¯åŠ¨æœåŠ¡å¯èƒ½ä¼šæŠ¥é”™ï¼šno suitable windowing system found, exiting</p><p>ä»å­—é¢ä¸Šçš„æ„æ€å°±æ˜¯ç¼ºå°‘ä¸€ä¸ªçª—å£åŒ–çš„ç³»ç»Ÿã€‚æ‰€ä»¥å°±å®‰è£…ä¸€ä¸ªã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall <span class="string">"X Window System"</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;èƒŒæ™¯æ•…äº‹&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯æ•…äº‹&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯æ•…äº‹&quot;&gt;&lt;/a&gt;èƒŒæ™¯æ•…äº‹&lt;/h2&gt;&lt;p&gt;è¿™ä¸¤å¤©é‡åˆ°ä¸€ä¸ªå¤§å‘ï¼Œå®¢æˆ·è¦åšoffice æ–‡æ¡£åœ¨çº¿é¢„è§ˆåŠŸèƒ½ï¼Œäºæ˜¯ä¹å°±è¦æŠŠofficeæ–‡æ¡£è½¬æ¢æˆpdfäº¤ç»™å‰ç«¯æ˜¾ç¤ºã€‚&lt;/p&gt;

      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="openOffice" scheme="/tags/openOffice/"/>
    
      <category term="å®‰è£…" scheme="/tags/%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title>å°†Word(.doc)é‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬</title>
    <link href="/2018/12/20/%E5%B0%86Word-doc-%E9%87%8C%E7%9A%84%E5%9B%BE%E7%89%87%E6%9B%BF%E6%8D%A2%E6%88%90%E6%96%87%E6%9C%AC/"/>
    <id>/2018/12/20/å°†Word-doc-é‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬/</id>
    <published>2018-12-20T03:23:24.000Z</published>
    <updated>2018-12-29T03:04:42.141Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬"><a href="#ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬" class="headerlink" title="ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬"></a>ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬</h2><p><strong>æµç¨‹ã€æ€æƒ³ï¼š</strong></p><p>è¯»å–å‡ºWordä¸­çš„å›¾ç‰‡ - å­˜å‚¨è¯»å–åˆ°çš„å›¾ç‰‡ï¼ˆæä¾›å›¾ç‰‡è¯†åˆ«åŸï¼‰ - åˆ é™¤Wordä¸­çš„è¯¥å›¾ç‰‡ - åœ¨Wordä¸­è¯¥å›¾ç‰‡ä½ç½®æ’å…¥æ›¿æ¢æ–‡å­— - åˆ é™¤å­˜å‚¨çš„å›¾ç‰‡</p><h3 id="Mavenä¾èµ–"><a href="#Mavenä¾èµ–" class="headerlink" title="Mavenä¾èµ–"></a>Mavenä¾èµ–</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- poi-å®ç°wordæ–‡ä»¶çš„è¯»å–å’Œä¿®æ”¹ç­‰æ“ä½œ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- é’ˆå¯¹äº<span class="number">2007</span>ç‰ˆï¼ˆ.docxï¼‰ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- é’ˆå¯¹äº<span class="number">2003</span>ç‰ˆï¼ˆ.docï¼‰ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- poi-end --&gt;</span><br><span class="line">&lt;!-- Jsoup-ç”¨ä»¥è§£æHTML --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.jsoup&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.11.3&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- Jsoup-end --&gt;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line">        String oldFileName = <span class="string">"D:/Test/ml/test.doc"</span>;</span><br><span class="line">        <span class="comment">//ç›®æ ‡æ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line">        String newFileName = <span class="string">"D:/Test/ml/html_to_word.doc"</span>;</span><br><span class="line">        <span class="comment">//æ„é€ HTMLç”Ÿæˆå…¨è·¯å¾„</span></span><br><span class="line">        String temporary = </span><br><span class="line">            <span class="keyword">new</span> File(oldFileName).getParent()+File.separator+<span class="string">"temporary.html"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯»å–DOCç”Ÿæˆè·å¾—htmlå†…å®¹å’Œå›¾ç‰‡é›†</span></span><br><span class="line">        Map&lt;String,Object&gt; map = convert2Html(oldFileName);</span><br><span class="line">        <span class="comment">//å–å¾—å›¾ç‰‡é›†</span></span><br><span class="line">        List&lt;String&gt; listPics = (List&lt;String&gt;) map.get(<span class="string">"listPics"</span>);</span><br><span class="line">        <span class="comment">//å–å¾—ç”Ÿæˆçš„htmlå†…å®¹</span></span><br><span class="line">        String htmlContent = (String) map.get(<span class="string">"htmlContent"</span>);</span><br><span class="line">        <span class="keyword">for</span> (String pic : listPics)&#123;</span><br><span class="line">            <span class="comment">//æœ‰åç¼€åçš„å›¾ç‰‡æ‰è¿›è¡Œè¯†åˆ«</span></span><br><span class="line">            <span class="keyword">if</span> (pic.lastIndexOf(<span class="string">"."</span>) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//ä»¥ä¸‹ä¸¤è¡Œä»£ç æ˜¯æ„é€ HTMLä¸­çš„å›¾ç‰‡æ ‡è®°ï¼ˆå³ï¼š&lt;img ...&gt;ï¼‰</span></span><br><span class="line">                String temp = htmlContent.substring(</span><br><span class="line">                    htmlContent.indexOf(<span class="string">"&lt;img src=\""</span>+pic.replace(<span class="string">"\\"</span>,<span class="string">"/"</span>)+<span class="string">"\""</span>));</span><br><span class="line">                temp = temp.substring(<span class="number">0</span>,temp.indexOf(<span class="string">"&gt;"</span>)+<span class="number">1</span>);</span><br><span class="line">                <span class="comment">//æ–‡å­—æ›¿æ¢å›¾ç‰‡</span></span><br><span class="line">                htmlContent = htmlContent.replaceAll(temp,<span class="string">"&lt;span&gt;&#123;&#123;title&#125;&#125;&lt;/span&gt;"</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;<span class="comment">/*å› ä¸ºè¯†åˆ«å‡ºæ¥çš„éå›¾ç‰‡æ ¼å¼ï¼ˆå³ï¼šæ— åç¼€åï¼‰çš„å›¾ç‰‡å†æ”¾å›docæ—¶ä¼šå‡ºç°</span></span><br><span class="line"><span class="comment">            å›¾ç‰‡å¼‚å¸¸æ˜¾ç¤ºï¼Œæ‰€ä»¥ä»¥"&lt;span&gt;&lt;/span&gt;"è¿›è¡Œå ä½*/</span></span><br><span class="line">                <span class="comment">//ä»¥ä¸‹ä¸¤è¡Œä»£ç æ˜¯æ„é€ HTMLä¸­çš„å›¾ç‰‡æ ‡è®°ï¼ˆå³ï¼š&lt;img ...&gt;ï¼‰</span></span><br><span class="line">                String temp = htmlContent.substring(</span><br><span class="line">                    htmlContent.indexOf(<span class="string">"&lt;img src=\""</span>+pic.replace(<span class="string">"\\"</span>,<span class="string">"/"</span>)+<span class="string">"\""</span>));</span><br><span class="line">                temp = temp.substring(<span class="number">0</span>,temp.indexOf(<span class="string">"&gt;"</span>)+<span class="number">1</span>);</span><br><span class="line">                <span class="comment">//å ä½</span></span><br><span class="line">                htmlContent = htmlContent.replaceAll(temp,<span class="string">"&lt;span&gt;&lt;/span&gt;"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¾“å‡ºHTMLæ–‡ä»¶</span></span><br><span class="line">        writeFile(htmlContent, temporary);</span><br><span class="line">        <span class="comment">//HTMLè½¬Doc</span></span><br><span class="line">        html2Doc(temporary,newFileName);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¾“å‡ºHTMLæ–‡ä»¶</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> content ä»docè¯»å–ç”Ÿæˆçš„htmlæ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> path ç›®æ ‡æ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeFile</span><span class="params">(String content, String path)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">    org.jsoup.nodes.Document doc = Jsoup.parse(content);</span><br><span class="line">    String styleOld=doc.getElementsByTag(<span class="string">"style"</span>).html();</span><br><span class="line">    <span class="comment">//ç»Ÿä¸€å­—ä½“æ ¼å¼ä¸ºå®‹ä½“</span></span><br><span class="line">    styleOld=styleOld.replaceAll(<span class="string">"font-family:.+(?=;\\b)"</span>, <span class="string">"font-family:SimSun"</span>);</span><br><span class="line"></span><br><span class="line">    doc.getElementsByTag(<span class="string">"head"</span>).empty();</span><br><span class="line">    doc.getElementsByTag(<span class="string">"head"</span>)</span><br><span class="line">        .append(<span class="string">"&lt;meta http-equiv=\"Content-Type\" content=\"text/html;</span></span><br><span class="line"><span class="string">                charset=UTF-8\"&gt;&lt;/meta&gt;"</span>);</span><br><span class="line">    doc.getElementsByTag(<span class="string">"head"</span>)</span><br><span class="line">        .append(<span class="string">" &lt;style type=\"text/css\"&gt;&lt;/style&gt;"</span>);</span><br><span class="line">    doc.getElementsByTag(<span class="string">"style"</span>)</span><br><span class="line">        .append(styleOld);</span><br><span class="line">    <span class="comment">/*æ­£åˆ™è¡¨è¾¾å¼æŸ¥è¯¢å­—ä½“å†…å®¹ï¼šfont-family:.+(?=;\b)*/</span></span><br><span class="line"></span><br><span class="line">    content=doc.html();</span><br><span class="line">    content=content</span><br><span class="line">        .replace(<span class="string">"&lt;meta http-equiv=\"Content-Type\" content=\"text/html; </span></span><br><span class="line"><span class="string">                 charset=UTF-8\"&gt;"</span>, <span class="string">"&lt;meta http-equiv=\"Content-Type\" </span></span><br><span class="line"><span class="string">                 content=\"text/html; charset=UTF-8\"&gt;&lt;/meta&gt;"</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(path);</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">        bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">"UTF-8"</span>));</span><br><span class="line">        bw.write(content);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException fnfe) &#123;</span><br><span class="line">        fnfe.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException ioe) &#123;</span><br><span class="line">        ioe.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (bw != <span class="keyword">null</span>)</span><br><span class="line">                bw.close();</span><br><span class="line">            <span class="keyword">if</span> (fos != <span class="keyword">null</span>)</span><br><span class="line">                fos.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException ie) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯»å–DOCç”Ÿæˆè·å¾—htmlå†…å®¹å’Œå›¾ç‰‡é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fileName æºæ–‡ä»¶å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> è¿”å›çš„mapä¸­åŒ…å«htmlå†…å®¹å’Œå›¾ç‰‡é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Map&lt;String,Object&gt; <span class="title">convert2Html</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­˜æ”¾htmlå†…å®¹å’Œå›¾ç‰‡é›†</span></span><br><span class="line">    Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">//ä¿å­˜å›¾ç‰‡é›†</span></span><br><span class="line">    List&lt;String&gt; listPics = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ„é€ æå–å‡ºæ¥çš„å›¾ç‰‡ä¿å­˜è·¯å¾„ä»¥åŠHTMLä¸­&lt;img&gt;çš„å›¾ç‰‡æºè·¯å¾„</span></span><br><span class="line">    String imgPath = <span class="keyword">new</span> File(fileName).getParent()+</span><br><span class="line">        File.separator+<span class="string">"img"</span>+File.separator;</span><br><span class="line">    File file = <span class="keyword">new</span> File(imgPath);</span><br><span class="line">    <span class="comment">//ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">    <span class="keyword">if</span> (!file.exists())&#123;</span><br><span class="line">        file.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    HWPFDocument wordDocument = <span class="keyword">new</span> HWPFDocument(<span class="keyword">new</span> FileInputStream(fileName));</span><br><span class="line">    <span class="comment">//WordToHtmlUtils.loadDoc(new FileInputStream(inputFile));</span></span><br><span class="line">    WordToHtmlConverter wordToHtmlConverter = <span class="keyword">new</span> WordToHtmlConverter(</span><br><span class="line">        DocumentBuilderFactory.newInstance().newDocumentBuilder()</span><br><span class="line">        .newDocument());</span><br><span class="line">    wordToHtmlConverter.setPicturesManager( <span class="keyword">new</span> PicturesManager() &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">savePicture</span><span class="params">(<span class="keyword">byte</span>[] content, PictureType pictureType, </span></span></span><br><span class="line"><span class="function"><span class="params">               String suggestedName, <span class="keyword">float</span> widthInches, <span class="keyword">float</span> heightInches )</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> imgPath.replace(<span class="string">"\\"</span>,<span class="string">"/"</span>) + suggestedName;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; );</span><br><span class="line">    wordToHtmlConverter.processDocument(wordDocument);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¿å­˜å›¾ç‰‡</span></span><br><span class="line">    List pics=wordDocument.getPicturesTable().getAllPictures();</span><br><span class="line">    <span class="keyword">if</span>(pics!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pics.size();i++)&#123;</span><br><span class="line">            Picture pic = (Picture)pics.get(i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String picAbsolutePath = imgPath + pic.suggestFullFileName();</span><br><span class="line">                <span class="comment">//å°†å›¾ç‰‡å…¨è·¯å¾„å­˜å…¥listPics</span></span><br><span class="line">                listPics.add(picAbsolutePath);</span><br><span class="line">                pic.writeImageContent(<span class="keyword">new</span> FileOutputStream(picAbsolutePath));</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Document htmlDocument = wordToHtmlConverter.getDocument();</span><br><span class="line"></span><br><span class="line">    ByteArrayOutputStream out = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">    DOMSource domSource = <span class="keyword">new</span> DOMSource(htmlDocument);</span><br><span class="line"></span><br><span class="line">    StreamResult streamResult = <span class="keyword">new</span> StreamResult(out);</span><br><span class="line"></span><br><span class="line">    TransformerFactory tf = TransformerFactory.newInstance();</span><br><span class="line">    Transformer serializer = tf.newTransformer();</span><br><span class="line"></span><br><span class="line">    serializer.setOutputProperty(OutputKeys.ENCODING, <span class="string">"UTF-8"</span>);</span><br><span class="line">    serializer.setOutputProperty(OutputKeys.INDENT, <span class="string">"yes"</span>);</span><br><span class="line">    serializer.setOutputProperty(OutputKeys.METHOD, <span class="string">"HTML"</span>);</span><br><span class="line">    serializer.transform(domSource, streamResult);</span><br><span class="line">    out.close();</span><br><span class="line"></span><br><span class="line">    String htmlContent=<span class="keyword">new</span> String(out.toByteArray());</span><br><span class="line">    <span class="comment">//æ›¿æ¢UEditoræ— æ³•è¯†åˆ«çš„è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">    htmlContent=htmlContent.replaceAll(<span class="string">"&amp;ldquo;"</span>,<span class="string">"\""</span>).replaceAll(<span class="string">"&amp;rdquo;"</span>,<span class="string">"\""</span>)</span><br><span class="line">      .replaceAll(<span class="string">"&amp;mdash;"</span>,<span class="string">"-"</span>);</span><br><span class="line"></span><br><span class="line">    map.put(<span class="string">"htmlContent"</span>,htmlContent);</span><br><span class="line">    map.put(<span class="string">"listPics"</span>,listPics);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * htmlè½¬doc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> source</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> target</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">html2Doc</span><span class="params">(String source , String target)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//åˆ›å»º POIFSFileSystem å¯¹è±¡</span></span><br><span class="line">    POIFSFileSystem poifs = <span class="keyword">new</span> POIFSFileSystem();</span><br><span class="line">    <span class="comment">//è·å–DirectoryEntry</span></span><br><span class="line">    DirectoryEntry directory = poifs.getRoot();</span><br><span class="line">    <span class="comment">//åˆ›å»ºè¾“å‡ºæµ</span></span><br><span class="line">    OutputStream out = <span class="keyword">new</span> FileOutputStream(target);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ–‡æ¡£,1.æ ¼å¼"WordDocument",2.HTMLæ–‡ä»¶è¾“å…¥æµ</span></span><br><span class="line">        directory.createDocument(<span class="string">"WordDocument"</span>, <span class="keyword">new</span> FileInputStream(source));</span><br><span class="line">        <span class="comment">//å†™å…¥</span></span><br><span class="line">        poifs.writeFilesystem(out);</span><br><span class="line">        <span class="comment">//é‡Šæ”¾èµ„æº</span></span><br><span class="line">        out.close();</span><br><span class="line">        System.out.println(<span class="string">"success"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot;&gt;&lt;a href=&quot;#ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot;&gt;&lt;/a&gt;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æµç¨‹
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="POI" scheme="/tags/POI/"/>
    
      <category term="Word" scheme="/tags/Word/"/>
    
      <category term="Jsoup" scheme="/tags/Jsoup/"/>
    
  </entry>
  
  <entry>
    <title>OpenOffice-å®ç°æ–‡ä»¶æ ¼å¼ä¹‹é—´çš„è½¬æ¢.md</title>
    <link href="/2018/12/18/OpenOffice-%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/"/>
    <id>/2018/12/18/OpenOffice-å®ç°æ–‡ä»¶æ ¼å¼ä¹‹é—´çš„è½¬æ¢/</id>
    <published>2018-12-18T11:10:47.000Z</published>
    <updated>2018-12-18T12:50:46.786Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>iTextPDF-å®ç°å‘PDFè¿½åŠ å†…å®¹</title>
    <link href="/2018/12/18/iTextPDF-%E5%AE%9E%E7%8E%B0%E5%90%91PDF%E8%BF%BD%E5%8A%A0%E5%86%85%E5%AE%B9/"/>
    <id>/2018/12/18/iTextPDF-å®ç°å‘PDFè¿½åŠ å†…å®¹/</id>
    <published>2018-12-18T11:10:03.000Z</published>
    <updated>2018-12-18T12:49:51.129Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å°†Word(.docx)-é‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬</title>
    <link href="/2018/12/18/%E5%B0%86Word-docx-%E9%87%8C%E7%9A%84%E5%9B%BE%E7%89%87%E6%9B%BF%E6%8D%A2%E6%88%90%E6%96%87%E6%9C%AC/"/>
    <id>/2018/12/18/å°†Word-docx-é‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬/</id>
    <published>2018-12-18T11:08:31.000Z</published>
    <updated>2018-12-25T03:01:54.817Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬"><a href="#ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬" class="headerlink" title="ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬"></a>ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬</h2><p><strong>æµç¨‹ã€æ€æƒ³ï¼š</strong></p><p>è¯»å–å‡ºWordä¸­çš„å›¾ç‰‡ - å­˜å‚¨è¯»å–åˆ°çš„å›¾ç‰‡ï¼ˆæä¾›å›¾ç‰‡è¯†åˆ«åŸï¼‰ - åˆ é™¤Wordä¸­çš„è¯¥å›¾ç‰‡ - åœ¨Wordä¸­è¯¥å›¾ç‰‡ä½ç½®æ’å…¥æ›¿æ¢æ–‡å­— - åˆ é™¤å­˜å‚¨çš„å›¾ç‰‡</p><h3 id="Mavenä¾èµ–"><a href="#Mavenä¾èµ–" class="headerlink" title="Mavenä¾èµ–"></a>Mavenä¾èµ–</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- poi-å®ç°wordæ–‡ä»¶çš„è¯»å–å’Œä¿®æ”¹ç­‰æ“ä½œ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- é’ˆå¯¹äº<span class="number">2007</span>ç‰ˆï¼ˆ.docxï¼‰ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- é’ˆå¯¹äº<span class="number">2003</span>ç‰ˆï¼ˆ.docï¼‰ --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;4.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">&lt;!-- poi-end --&gt;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        textReplacePhoto(<span class="string">"D:\\Test\\åŸæŠ¥æ ¼å¼æ ·ä¾‹3.docx"</span>,</span><br><span class="line">                         <span class="string">"D:\\Test\\åŸæŠ¥æ ¼å¼æ ·ä¾‹3-1.docx"</span>,<span class="string">"D:/Test/img"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†wordé‡Œçš„å›¾ç‰‡å…¨éƒ¨æ›¿æ¢æˆæ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> oldFileName ä¼ å…¥åŸæ–‡ä»¶çš„å…¨è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> newFileName ä¿å­˜ä¿®æ”¹åæ–‡ä»¶çš„å…¨è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> picturePath è¯»å–å‡ºæ¥çš„å›¾ç‰‡ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">textReplacePhoto</span><span class="params">(String oldFileName, String newFileName,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    String picturePath)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    File newFile = <span class="keyword">new</span> File(newFileName.replace(<span class="keyword">new</span> File(newFileName).getName(),<span class="string">""</span>));</span><br><span class="line">    <span class="comment">//ä¿å­˜è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">    <span class="keyword">if</span> (!newFile.exists())&#123;</span><br><span class="line">        newFile.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oldFileName.endsWith(<span class="string">".docx"</span>))&#123;    <span class="comment">//.docxæ–‡ä»¶çš„å¤„ç†æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//ä¸ºäº†ç¡®å®šå›¾ç‰‡é›†ä¸­çš„æŸä¸€å¼ å›¾ç‰‡</span></span><br><span class="line">        <span class="keyword">int</span> imgNum=<span class="number">0</span>;</span><br><span class="line">        <span class="comment">//åˆ›å»ºè¾“å…¥æµ</span></span><br><span class="line">        InputStream oldIs = <span class="keyword">new</span> FileInputStream(oldFileName);</span><br><span class="line">        <span class="comment">//åˆ›å»ºè¾“å‡ºæµ</span></span><br><span class="line">        OutputStream newOs = <span class="keyword">new</span> FileOutputStream(newFileName);</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªXWPFDocument</span></span><br><span class="line">        XWPFDocument docx = <span class="keyword">new</span> XWPFDocument(oldIs);</span><br><span class="line">        <span class="comment">//è·å–åˆ°è¯¥æ–‡æ¡£çš„æ‰€æœ‰æ®µè½é›†</span></span><br><span class="line">        List&lt;XWPFParagraph&gt; paras = docx.getParagraphs();</span><br><span class="line">        <span class="comment">//è·å–åˆ°è¯¥æ–‡æ¡£çš„æ‰€æœ‰å›¾ç‰‡é›†</span></span><br><span class="line">        List&lt;XWPFPictureData&gt; pictures = docx.getAllPictures();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (XWPFParagraph para:paras)&#123;</span><br><span class="line">            <span class="comment">//æ®µè½ä¸­æ‰€æœ‰XWPFRun</span></span><br><span class="line">            List&lt;XWPFRun&gt; runList = para.getRuns();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;runList.size();i++) &#123;</span><br><span class="line">                XWPFRun run=runList.get(i);</span><br><span class="line">                <span class="comment">//åˆ¤æ–­è¯¥æ®µè½æ˜¯å¦æ˜¯å›¾ç‰‡</span></span><br><span class="line">                <span class="keyword">if</span> (!run.getEmbeddedPictures().isEmpty())&#123;</span><br><span class="line">                    <span class="comment">//å­˜å‚¨è¯»å–åˆ°çš„å›¾ç‰‡,å¹¶è·å–å›¾ç‰‡å…¨è·¯å¾„</span></span><br><span class="line">                    String pictureName=savePictureDocx(pictures,picturePath,imgNum++);</span><br><span class="line">                    <span class="comment">//å®é™…æœ‰å›¾ç‰‡æ‰è¿›è¡Œä»¥ä¸‹æ“ä½œ</span></span><br><span class="line">                    <span class="keyword">if</span> (pictureName!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                        <span class="comment">//åˆ é™¤å›¾ç‰‡</span></span><br><span class="line">                        para.removeRun(i);</span><br><span class="line">                        <span class="comment">//æ’å…¥æ–‡å­—</span></span><br><span class="line">                        para.insertNewRun(i).setText(<span class="string">"&#123;&#123;title&#125;&#125;"</span>);</span><br><span class="line">                        <span class="comment">//åˆ é™¤å›¾ç‰‡</span></span><br><span class="line">                        deletePicture(pictureName);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        docx.write(newOs);</span><br><span class="line">        docx.close();</span><br><span class="line">        oldIs.close();</span><br><span class="line">        newOs.flush();</span><br><span class="line">        newOs.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å­˜å‚¨è¯»å–åˆ°çš„å›¾ç‰‡ - docx</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pictures å›¾ç‰‡é›†</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> picturePath å›¾ç‰‡ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> imgNum ç¡®å®šå›¾ç‰‡é›†ä¸­çš„æŸä¸€å¼ å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> å›¾ç‰‡å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">savePictureDocx</span><span class="params">(List&lt;XWPFPictureData&gt; pictures,</span></span></span><br><span class="line"><span class="function"><span class="params">    String picturePath,<span class="keyword">int</span> imgNum)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    </span><br><span class="line">    File pictureFile = <span class="keyword">new</span> File(picturePath);</span><br><span class="line">    <span class="comment">//ä¿å­˜è·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">    <span class="keyword">if</span> (!pictureFile.exists())&#123;</span><br><span class="line">        pictureFile.mkdirs();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;XWPFPictureData&gt; pictures = para.getDocument().getAllPictures();</span><br><span class="line">    <span class="keyword">if</span> (pictures.size()!=<span class="number">0</span>)&#123;</span><br><span class="line">        XWPFPictureData picture = pictures.get(imgNum);</span><br><span class="line">        String rawName = picture.getFileName();</span><br><span class="line">        String fileExt = rawName.substring(rawName.lastIndexOf(<span class="string">"."</span>));</span><br><span class="line">        String newName = System.currentTimeMillis() + </span><br><span class="line">            UUID.randomUUID().toString() + fileExt;</span><br><span class="line">        String pictureName = picturePath + File.separator + newName;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(pictureName);</span><br><span class="line">        fos.write(picture.getData());</span><br><span class="line"></span><br><span class="line">        fos.flush();</span><br><span class="line">        fos.close();</span><br><span class="line">        <span class="keyword">return</span> pictureName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ é™¤ä¸´æ—¶å­˜å‚¨çš„å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> pictureName å›¾ç‰‡å…¨è·¯å¾„ï¼ˆå«æ–‡ä»¶åï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">deletePicture</span><span class="params">(String pictureName)</span> </span>&#123;</span><br><span class="line">    File pictureFile = <span class="keyword">new</span> File(pictureName);</span><br><span class="line">    <span class="comment">// ç›®å½•æ­¤æ—¶ä¸ºç©ºï¼Œå¯ä»¥åˆ é™¤</span></span><br><span class="line">    <span class="keyword">return</span> pictureFile.delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot;&gt;&lt;a href=&quot;#ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot; class=&quot;headerlink&quot; title=&quot;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&quot;&gt;&lt;/a&gt;ç›®æ ‡ï¼šå°†wordé‡Œçš„å›¾ç‰‡æ›¿æ¢æˆæ–‡æœ¬&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;æµç¨‹
      
    
    </summary>
    
      <category term="Java" scheme="/categories/Java/"/>
    
    
      <category term="POI" scheme="/tags/POI/"/>
    
      <category term="Word" scheme="/tags/Word/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨VNCæ­å»ºUbuntu VNCå¯è§†åŒ–ç•Œé¢</title>
    <link href="/2018/12/10/%E7%94%A8VNC%E6%90%AD%E5%BB%BAUbuntu%20VNC%E5%8F%AF%E8%A7%86%E5%8C%96%E7%95%8C%E9%9D%A2/"/>
    <id>/2018/12/10/ç”¨VNCæ­å»ºUbuntu VNCå¯è§†åŒ–ç•Œé¢/</id>
    <published>2018-12-10T11:48:46.000Z</published>
    <updated>2019-01-10T08:08:55.307Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…é…ç½®è½¯ä»¶"><a href="#å®‰è£…é…ç½®è½¯ä»¶" class="headerlink" title="å®‰è£…é…ç½®è½¯ä»¶"></a>å®‰è£…é…ç½®è½¯ä»¶</h2><ul><li><h3 id="VNCçš„å®‰è£…ä¸é…ç½®"><a href="#VNCçš„å®‰è£…ä¸é…ç½®" class="headerlink" title="VNCçš„å®‰è£…ä¸é…ç½®"></a>VNCçš„å®‰è£…ä¸é…ç½®</h3><p>å®‰è£…ä¹‹å‰å…ˆè¾“å…¥ï¼ˆè·å–æœ€æ–°å¥—ä»¶çš„ä¿¡æ¯ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…VNCï¼Œå®‰è£…è¿‡ç¨‹ä¸­éœ€è¦è¾“å…¥Yæ¥ç¡®è®¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install vnc4server</span><br></pre></td></tr></table></figure><p>å¯åŠ¨VNCï¼ˆç¬¬ä¸€æ¬¡å¯åŠ¨éœ€è¦è®¾ç½®å¯†ç ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver</span><br></pre></td></tr></table></figure><p>å¼€æœºå¯åŠ¨è¯·å‚è€ƒï¼š<a href="https://maliangnansheng.github.io/2019/01/07/ubuntu-18-04-1-%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC/" target="_blank" rel="noopener">ubuntu-18-04-1-å¼€æœºå¯åŠ¨è„šæœ¬</a></p><h3 id="è®¾ç½®vncservgnome-æ¡Œé¢ç¯å¢ƒå®‰è£…ä¸é…ç½®ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰"><a href="#è®¾ç½®vncservgnome-æ¡Œé¢ç¯å¢ƒå®‰è£…ä¸é…ç½®ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰" class="headerlink" title="è®¾ç½®vncservgnome æ¡Œé¢ç¯å¢ƒå®‰è£…ä¸é…ç½®ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰"></a>è®¾ç½®vncservgnome æ¡Œé¢ç¯å¢ƒå®‰è£…ä¸é…ç½®ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰</h3><p>å®‰è£…xï¼windowsçš„åŸºç¡€</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install x-window-system-core</span><br></pre></td></tr></table></figure><p>å®‰è£…ç™»å½•ç®¡ç†å™¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gdm</span><br></pre></td></tr></table></figure><p>å®‰è£…Ubuntuçš„æ¡Œé¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ubuntu-desktop</span><br></pre></td></tr></table></figure><p>å®‰è£…gnomeé…å¥—è½¯ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹VNCé…ç½®æ–‡ä»¶</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi ~/.vnc/xstartup</span><br></pre></td></tr></table></figure><p><strong>ä¿®æ”¹ä¸ºï¼š</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment"># Uncomment the following two lines for normal desktop:</span></span><br><span class="line"><span class="built_in">export</span> XKL_XMODMAP_DISABLE=1</span><br><span class="line"> <span class="built_in">unset</span> SESSION_MANAGER</span><br><span class="line"><span class="comment"># exec /etc/X11/xinit/xinitrc</span></span><br><span class="line"><span class="built_in">unset</span> DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">gnome-panel &amp;</span><br><span class="line">gnmoe-settings-daemon &amp;</span><br><span class="line">metacity &amp;</span><br><span class="line">nautilus &amp;</span><br><span class="line">gnome-terminal &amp;</span><br></pre></td></tr></table></figure><p>æ€æ‰åŸæ¡Œé¢è¿›ç¨‹ï¼Œè¾“å…¥å‘½ä»¤ï¼ˆå…¶ä¸­çš„:1æ˜¯æ¡Œé¢å·ï¼‰ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -<span class="built_in">kill</span> :1</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæ–°çš„ä¼šè¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :1</span><br></pre></td></tr></table></figure></li></ul><h2 id="ubuntuå¸è½½gnomeæ¡Œé¢ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰"><a href="#ubuntuå¸è½½gnomeæ¡Œé¢ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰" class="headerlink" title="ubuntuå¸è½½gnomeæ¡Œé¢ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰"></a>ubuntuå¸è½½gnomeæ¡Œé¢ï¼ˆå¯ç›´æ¥è·³è‡³ç¬¬3æ­¥ï¼‰</h2><p> ä¹‹å‰å®‰è£…å¥½äº†ubuntu18.04ï¼Œæœ¬æ¥æƒ³è£…ä¸ªgnome shellæ¥ç¾åŒ–ä¸€ä¸‹æ¡Œé¢ï¼Œç»“æœå‡ºç°äº†å¼€æœºé»‘å±ï¼ˆç°å±ï¼‰çš„ç°è±¡ï¼Œç»ç½‘ä¸ŠæŸ¥è¯¢å‘ç°æ˜¯æ˜¾å¡é©±åŠ¨åœ¨gnome3çš„ç¯å¢ƒä¸‹äº§ç”Ÿäº†ä¸å…¼å®¹ï¼Œå…·ä½“è§£å†³æ–¹æ³•æˆ‘è¿˜æ²¡æ‰¾åˆ°ï¼Œæƒ…æ€¥ä¹‹ä¸‹åªèƒ½å…ˆå¸è½½æ‰gnomeæ¡Œé¢ç¯å¢ƒã€‚</p><ul><li><h3 id="å¸è½½æ‰gnome-shellä¸»ç¨‹åº"><a href="#å¸è½½æ‰gnome-shellä¸»ç¨‹åº" class="headerlink" title="å¸è½½æ‰gnome-shellä¸»ç¨‹åº"></a>å¸è½½æ‰gnome-shellä¸»ç¨‹åº</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove gnome-shell</span><br></pre></td></tr></table></figure></li><li><h3 id="å¸è½½æ‰gnome"><a href="#å¸è½½æ‰gnome" class="headerlink" title="å¸è½½æ‰gnome"></a>å¸è½½æ‰gnome</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove gnome</span><br></pre></td></tr></table></figure></li><li><h3 id="å¸è½½ä¸éœ€è¦çš„ä¾èµ–å…³ç³»"><a href="#å¸è½½ä¸éœ€è¦çš„ä¾èµ–å…³ç³»" class="headerlink" title="å¸è½½ä¸éœ€è¦çš„ä¾èµ–å…³ç³»"></a>å¸è½½ä¸éœ€è¦çš„ä¾èµ–å…³ç³»</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove</span><br></pre></td></tr></table></figure></li><li><h3 id="å½»åº•å¸è½½åˆ é™¤gnomeçš„ç›¸å…³é…ç½®æ–‡ä»¶"><a href="#å½»åº•å¸è½½åˆ é™¤gnomeçš„ç›¸å…³é…ç½®æ–‡ä»¶" class="headerlink" title="å½»åº•å¸è½½åˆ é™¤gnomeçš„ç›¸å…³é…ç½®æ–‡ä»¶"></a>å½»åº•å¸è½½åˆ é™¤gnomeçš„ç›¸å…³é…ç½®æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge gnome</span><br></pre></td></tr></table></figure></li><li><h3 id="æ¸…ç†å®‰è£…gnomeæ—¶å€™ç•™ä¸‹çš„ç¼“å­˜ç¨‹åºè½¯ä»¶åŒ…"><a href="#æ¸…ç†å®‰è£…gnomeæ—¶å€™ç•™ä¸‹çš„ç¼“å­˜ç¨‹åºè½¯ä»¶åŒ…" class="headerlink" title="æ¸…ç†å®‰è£…gnomeæ—¶å€™ç•™ä¸‹çš„ç¼“å­˜ç¨‹åºè½¯ä»¶åŒ…"></a>æ¸…ç†å®‰è£…gnomeæ—¶å€™ç•™ä¸‹çš„ç¼“å­˜ç¨‹åºè½¯ä»¶åŒ…</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoclean</span><br><span class="line">sudo apt-get clean</span><br></pre></td></tr></table></figure></li></ul><h2 id="ubuntuè¿è¡ŒVNC-Serveræ— æ¡Œé¢æ—¶çš„è§£å†³æ–¹æ¡ˆ"><a href="#ubuntuè¿è¡ŒVNC-Serveræ— æ¡Œé¢æ—¶çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ubuntuè¿è¡ŒVNC Serveræ— æ¡Œé¢æ—¶çš„è§£å†³æ–¹æ¡ˆ"></a>ubuntuè¿è¡ŒVNC Serveræ— æ¡Œé¢æ—¶çš„è§£å†³æ–¹æ¡ˆ</h2><p>é…ç½®vnc serverå®åœ¨æ˜¯ä¸€ä¸ªç‰¹åˆ«è¯¡å¼‚çš„äº‹ï¼Œæˆ‘åœ¨ä¸åŒçš„ubuntuæœºå™¨ä¸Šé…ç½®æœåŠ¡æ—¶ï¼Œæ€»æ˜¯é‡åˆ°åƒå¥‡ç™¾æ€ªçš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ¯”è¾ƒé¡ºåˆ©ï¼Œå°†<code>~/.vnc/xstartup</code>æœ€åä¸€å¥<code>x-window-manager&amp;</code>æ›¿æ¢ä¸º<code>gnome-session&amp;</code>å°±èƒ½é¡ºåˆ©åœ°å‡ºç°æ¡Œé¢ï¼Œè€Œæœ‰äº›åˆ™ä¸è¡Œï¼Œéœ€è¦æ”¹ä¸º<code>gnome-session --session=ubuntu-2d&amp;</code></p><ul><li><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>è€Œä»Šå¤©é‡åˆ°çš„ubuntu 18.04ï¼Œåˆ™æ­»æ´»ä¸è¡Œï¼Œç”¨realvnc viewerè¿æ¥ä¹‹åï¼Œåªæœ‰ç°ç°çš„ä¸€ä¸ªèƒŒæ™¯ï¼Œæ²¡æœ‰æ¡Œé¢ï¼Œæ²¡æœ‰terminalã€‚</p><p>æŸ¥é˜…äº†å¾ˆå¤šåšæ–‡ï¼Œæœ‰è¯´éœ€è¦å®‰è£…<code>gnome-session-fallback</code>çš„ï¼Œæœ‰è¯´éœ€è¦å®‰è£…<code>gdm</code>çš„ï¼Œä¹Ÿæœ‰ç”¨<code>kde</code>çš„ï¼Œé™¤äº†kdeæˆ‘æ²¡æœ‰å°è¯•ï¼Œå¦å¤–ä¸¤ç§éªŒè¯æ— æ•ˆï¼Œä¾ç„¶åªæœ‰ä¸€ä¸ªç°è‰²èƒŒæ™¯ã€‚</p><p>æœ€åç”¨xfce4æ¡Œé¢è§£å†³ï¼Œé€‰æ‹©äº›æ–¹æ¡ˆä¸€æ˜¯å› ä¸ºxfceç›¸å¯¹è¾ƒå°ï¼Œgnome-sessionæ­»æ´»ä¸è¡Œçš„æƒ…å†µä¸‹ï¼Œå†å°†ä¸€ä¸ªkdeæœªå…å¤ªè¿‡å…´å¸ˆåŠ¨ä¼—ï¼Œxfceæˆ‘ä½¿ç”¨è¿‡ä¸€æ®µæ—¶é—´ï¼Œæ˜¯ä¸€ä¸ªç›¸å½“è½»é‡çº§çš„GUIç¯å¢ƒï¼Œæ¸…çˆ½æ˜“ç”¨ï¼ŒåŠŸèƒ½ä¸€ç‚¹ä¸å«ç³Šã€‚å†³å®šä¹‹åï¼Œä¸€æ¬¡å°è¯•å³æˆåŠŸã€‚</p></li><li><h3 id="å®‰è£…xfce"><a href="#å®‰è£…xfce" class="headerlink" title="å®‰è£…xfce"></a>å®‰è£…xfce</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-core xfce4</span><br></pre></td></tr></table></figure></li><li><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>ç¼–è¾‘<code>~/.vnc/xstartup</code>æ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">unset</span> SESSION_MANAGER</span><br><span class="line"><span class="built_in">unset</span> DBUS_SESSION_BUS_ADDRESS</span><br><span class="line">startxfce4 &amp;</span><br><span class="line">[ -x /etc/vnc/xstartup ] &amp;&amp; <span class="built_in">exec</span> /etc/vnc/xstartup</span><br><span class="line">[ -r <span class="variable">$HOME</span>/.Xresources ] &amp;&amp; xrdb <span class="variable">$HOME</span>/.Xresources</span><br><span class="line">xsetroot -solid grey</span><br><span class="line">vncconfig -iconic &amp;</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆæ–°çš„ä¼šè¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :1</span><br></pre></td></tr></table></figure></li></ul><h2 id="æœ¬åœ°ä½¿ç”¨VNCè¿æ¥"><a href="#æœ¬åœ°ä½¿ç”¨VNCè¿æ¥" class="headerlink" title="æœ¬åœ°ä½¿ç”¨VNCè¿æ¥"></a>æœ¬åœ°ä½¿ç”¨VNCè¿æ¥</h2><ol><li>æœ¬åœ°å®‰è£…VNCåï¼Œä½¿ç”¨ipåœ°å€:1ï¼ˆå…¶ä¸­çš„:1æ˜¯æ¡Œé¢å·ï¼‰çš„æ–¹å¼è¿æ¥</li><li>è¾“å…¥ä¹‹å‰è®¾ç½®çš„VNCå¯†ç åç‚¹å‡»è¿æ¥</li></ol><h2 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h2><ul><li><h3 id="ä¸‹è½½åœ°å€"><a href="#ä¸‹è½½åœ°å€" class="headerlink" title="ä¸‹è½½åœ°å€"></a>ä¸‹è½½åœ°å€</h3><p><a href="https://www.realvnc.com/en/connect/download/viewer/" target="_blank" rel="noopener">VNC Viewerå’ŒVNC Server</a></p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å®‰è£…é…ç½®è½¯ä»¶&quot;&gt;&lt;a href=&quot;#å®‰è£…é…ç½®è½¯ä»¶&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…é…ç½®è½¯ä»¶&quot;&gt;&lt;/a&gt;å®‰è£…é…ç½®è½¯ä»¶&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;VNCçš„å®‰è£…ä¸é…ç½®&quot;&gt;&lt;a href=&quot;#VNCçš„å®‰è£…ä¸é…ç½®&quot; class=&quot;h
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="é…ç½®" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="Ubuntu" scheme="/tags/Ubuntu/"/>
    
      <category term="VNC" scheme="/tags/VNC/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸‹å®‰è£…Java JDK8</title>
    <link href="/2018/12/10/Linux%E4%B8%8B%E5%AE%89%E8%A3%85Java-JDK8/"/>
    <id>/2018/12/10/Linuxä¸‹å®‰è£…Java-JDK8/</id>
    <published>2018-12-10T11:44:56.000Z</published>
    <updated>2019-01-10T08:06:43.445Z</updated>
    
    <content type="html"><![CDATA[<ul><li><h3 id="æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle-Java-JDK"><a href="#æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle-Java-JDK" class="headerlink" title="æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle Java JDK"></a>æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle Java JDK</h3><ol><li><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">å‰å¾€oracle Javaå®˜ç½‘ä¸‹è½½JDK</a></p></li><li><p>è§£å‹ç¼©åˆ°æŒ‡å®šç›®å½•ï¼ˆä»¥jdk-8u144-linux-x64.tar.gzä¸ºä¾‹ï¼‰</p><ul><li><p>åˆ›å»ºç›®å½•:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/lib/jvm</span><br></pre></td></tr></table></figure></li><li><p>è§£å‹ç¼©åˆ°è¯¥ç›®å½•:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxvf jdk-7u60-linux-x64.gz -C /usr/lib/jvm</span><br></pre></td></tr></table></figure></li></ul></li><li><p>ä¿®æ”¹ç¯å¢ƒå˜é‡:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi ~/.bashrc</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä¸‹é¢å†…å®¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#set oracle jdk environment</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/jdk1.8.0_144  <span class="comment">## è¿™é‡Œè¦æ³¨æ„ç›®å½•è¦æ¢æˆè‡ªå·±è§£å‹çš„jdk ç›®å½•</span></span><br><span class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$&#123;JAVA_HOME&#125;</span>/jre  </span><br><span class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$&#123;JAVA_HOME&#125;</span>/lib:<span class="variable">$&#123;JRE_HOME&#125;</span>/lib  </span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$&#123;JAVA_HOME&#125;</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>ä½¿ç¯å¢ƒå˜é‡é©¬ä¸Šç”Ÿæ•ˆï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹javaç‰ˆæœ¬ï¼Œçœ‹çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure></li></ol></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle-Java-JDK&quot;&gt;&lt;a href=&quot;#æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle-Java-JDK&quot; class=&quot;headerlink&quot; title=&quot;æ‰‹åŠ¨ä¸‹è½½å‹ç¼©åŒ…å®‰è£…oracle Java JDK&quot;&gt;&lt;/a&gt;æ‰‹åŠ¨ä¸‹è½½å‹
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="é…ç½®" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>Linuxçš„ä½¿ç”¨æŠ€å·§</title>
    <link href="/2018/12/10/Linux%E7%9A%84%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>/2018/12/10/Linuxçš„ä½¿ç”¨æŠ€å·§/</id>
    <published>2018-12-10T11:21:02.000Z</published>
    <updated>2019-01-12T08:08:49.831Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¿®æ”¹ç”¨æˆ·å"><a href="#ä¿®æ”¹ç”¨æˆ·å" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·å"></a>ä¿®æ”¹ç”¨æˆ·å</h2><p>ä¾‹ï¼šå°†adminæ”¹ä¸ºtestï¼ˆubuntuï¼‰</p><ul><li><h3 id="ä¿®æ”¹-etc-passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"><a href="#ä¿®æ”¹-etc-passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ /etc/passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"></a>ä¿®æ”¹ /etc/passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/passwd</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#admin:x:1001:1001:admin,,,:/home/admin:/bin/bash</span></span><br><span class="line"><span class="comment">#æŠŠç”¨æˆ·åadminæ”¹æˆrest</span></span><br><span class="line"><span class="comment">#test:x:1001:1001:admin,,,:/home/test:/bin/bash</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼š</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin:x:1001:1001:admin,,,:/home/admin:/bin/bash</span><br><span class="line">ä¸­çš„admin,,,ä¸å¯ä¿®æ”¹ï¼Œè‹¥ä¿®æ”¹åé‡å¯ï¼Œä½ å°†ä¼šå› ä¸ºå¯†ç é”™è¯¯è€Œä¸èƒ½æˆåŠŸç™»å…¥ç³»ç»Ÿï¼ˆåªå¾—å»æœºæˆ¿é‡æ–°æ³¨å†Œç”¨æˆ·äº†ï¼‰</span><br></pre></td></tr></table></figure></li><li><h3 id="ä¿®æ”¹-etc-shadowç”¨æˆ·å¯†ç æ–‡ä»¶"><a href="#ä¿®æ”¹-etc-shadowç”¨æˆ·å¯†ç æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ /etc/shadowç”¨æˆ·å¯†ç æ–‡ä»¶"></a>ä¿®æ”¹ /etc/shadowç”¨æˆ·å¯†ç æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/shadow</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#admin:Dnakfw28zf38w:8764:0:168:7:::</span></span><br><span class="line"><span class="comment">#ç”±äºå¯†ç åŠ å¯†æ–¹å¼å­˜æ”¾ï¼Œåªä¿®æ”¹ç”¨æˆ·åå³å¯ï¼ˆå¯†ç ä¸å˜ï¼‰</span></span><br><span class="line"><span class="comment">#test:Dnakfw28zf38w:8764:0:168:7:::</span></span><br></pre></td></tr></table></figure></li><li><h3 id="å†ä¿®æ”¹-etc-groupç”¨æˆ·ç»„æ–‡ä»¶"><a href="#å†ä¿®æ”¹-etc-groupç”¨æˆ·ç»„æ–‡ä»¶" class="headerlink" title="å†ä¿®æ”¹ /etc/groupç”¨æˆ·ç»„æ–‡ä»¶"></a>å†ä¿®æ”¹ /etc/groupç”¨æˆ·ç»„æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/group</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#admin:x:1:root,bin,admin</span></span><br><span class="line"><span class="comment">#ä¿®æ”¹adminç»„ä¸ºtestç»„</span></span><br><span class="line"><span class="comment">#test:x:1:root,bin,test</span></span><br></pre></td></tr></table></figure></li><li><h3 id="ä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•"><a href="#ä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•"></a>ä¿®æ”¹ç”¨æˆ·çš„å®¶ç›®å½•</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /home/admin /home/<span class="built_in">test</span></span><br></pre></td></tr></table></figure></li><li><h3 id="xx-is-not-in-the-sudoers-file-é—®é¢˜è§£å†³"><a href="#xx-is-not-in-the-sudoers-file-é—®é¢˜è§£å†³" class="headerlink" title="xx is not in the sudoers file é—®é¢˜è§£å†³"></a>xx is not in the sudoers file é—®é¢˜è§£å†³</h3><p>é¦–å…ˆåˆ©ç”¨whereis å‘½ä»¤æŸ¥æ‰¾sudoersé…ç½®æ–‡ä»¶çš„ç›®å½•ï¼ˆé»˜è®¤ä¼šåœ¨/etc/sudoers)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis sudoers</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥åˆ©ç”¨viç¼–è¾‘å™¨æ¥æŠŠç”¨æˆ·æ·»åŠ åˆ°sudoersä¹‹ä¸­</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sudoers</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰¾åˆ°root    ALL=(ALL)       ALL æˆ–è€… root    ALL=(ALL:ALL) ALLæ‰€åœ¨çš„ä½ç½®ï¼ŒæŠŠæ‰€è¦æ·»åŠ çš„ç”¨æˆ·æ·»åŠ åˆ°æ–‡ä»¶ä¹‹ä¸­</p><p>ä¸‹é¢æ˜¯æ·»åŠ å®Œçš„ç»“æœã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Allow root to run any commands anywhere</span><br><span class="line"></span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">maliangALL=(ALL)       ALLï¼ˆè¿™ä¸€è¡Œæ˜¯æ·»åŠ çš„å†…å®¹ï¼Œmaliangæ˜¯æˆ‘çš„ç”¨æˆ·åï¼‰</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä¿®æ”¹ç”¨æˆ·å¯†ç "><a href="#ä¿®æ”¹ç”¨æˆ·å¯†ç " class="headerlink" title="ä¿®æ”¹ç”¨æˆ·å¯†ç "></a>ä¿®æ”¹ç”¨æˆ·å¯†ç </h2><p>åœ¨ç»ˆç«¯è¿è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd username</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ”¹å˜å£ä»¤ä¸º usernameã€‚</span><br><span class="line">(å½“å‰)UNIX å£ä»¤ï¼š&lt;è¾“å…¥ç°åœ¨çš„å¯†ç &gt; </span><br><span class="line">è¾“å…¥æ–°çš„ UNIX å£ä»¤ï¼š &lt;è¾“å…¥æ–°å¯†ç &gt; </span><br><span class="line">é‡æ–°è¾“å…¥æ–°çš„ UNIX å£ä»¤ï¼š&lt;é‡æ–°è¾“å…¥æ–°å¯†ç &gt;</span><br><span class="line"></span><br><span class="line">passwdï¼šå·²æˆåŠŸæ›´æ–°å¯†ç </span><br></pre></td></tr></table></figure><h2 id="å¼€å¯rootç”¨æˆ·å’Œä½¿ç”¨rootç”¨æˆ·ç™»é™†"><a href="#å¼€å¯rootç”¨æˆ·å’Œä½¿ç”¨rootç”¨æˆ·ç™»é™†" class="headerlink" title="å¼€å¯rootç”¨æˆ·å’Œä½¿ç”¨rootç”¨æˆ·ç™»é™†"></a>å¼€å¯rootç”¨æˆ·å’Œä½¿ç”¨rootç”¨æˆ·ç™»é™†</h2><ol><li><p><strong>ä»¥æ™®é€šç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼Œåˆ›å»ºrootç”¨æˆ·çš„å¯†ç </strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure></li><li><p><strong>ä¿®æ”¹æ–‡ä»¶<code>sudo vi /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf</code>æ–‡ä»¶ï¼Œå¢åŠ ä¸¤è¡Œï¼š</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">greeter-show-manual-login=<span class="literal">true</span></span><br><span class="line">allow-guest=<span class="literal">false</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜</p></li><li><p><strong>ä¿®æ”¹<code>/etc/pam.d/gdm-autologin</code>ã€<code>/etc/pam.d/gdm-password</code>æ–‡ä»¶å’Œ<code>/root/.profile</code>æ–‡ä»¶</strong>ï¼ˆ<em>ubuntu-18.04éœ€è¦æ­¤æ­¥éª¤</em>ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/pam.d/gdm-autologin</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šæ‰ï¼š<code>auth    required        pam_succeed_if.so user != root quiet_success</code> ä¿å­˜</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/pam.d/gdm-password</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šæ‰ï¼š<code>auth    required        pam_succeed_if.so user != root quiet_success</code> ä¿å­˜</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /root/.profile</span><br></pre></td></tr></table></figure><p>å°†æ–‡ä»¶æœ«å°¾çš„<code>mesg n || true</code>è¿™ä¸€è¡Œä¿®æ”¹æˆ<code>tty -s &amp;&amp; mesg n || true</code> ä¿å­˜</p></li><li><p><strong>é‡å¯ç³»ç»Ÿï¼Œè¾“å…¥rootç”¨æˆ·åå’Œå¯†ç ï¼Œç™»å½•ç³»ç»Ÿ</strong></p></li></ol><ul><li><p><strong>è§£å†³Ubuntu18.04ä¸èƒ½ç”¨Xshellä½¿ç”¨rootç”¨æˆ·ç™»å½•</strong></p><p>ä»Šå¤©ä½¿ç”¨Xshell6è¿æ¥Ubuntu18.04æ—¶ï¼Œè¿æ¥æ™®é€šç”¨æˆ·å¯ä»¥ï¼Œä½†æ˜¯è¿æ¥rootç”¨æˆ·ä¸è¡Œï¼ˆä½†æ˜¯å®ä½“æœºæˆ–è€…è™šæ‹Ÿæœºå¯ä»¥rootç”¨æˆ·ç™»å½•ï¼‰</p><p>è§£å†³æ–¹æ¡ˆæ˜¯ï¼š</p><p>åœ¨Ubuntu18.04ä¸­ ä¿®æ”¹ <code>/etc/ssh/sshd_config</code>è¿™ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ²¡ä¿®æ”¹å‰çš„ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment"># Authentication:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#LoginGraceTime 2m</span></span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password</span></span><br><span class="line"><span class="comment">#StrictModes yes</span></span><br><span class="line"><span class="comment">#MaxAuthTries 6</span></span><br><span class="line"><span class="comment">#MaxSessions 10</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment"># Authentication:</span></span><br><span class="line"></span><br><span class="line">LoginGraceTime 2m</span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password</span></span><br><span class="line">PermitRootLogin yes</span><br><span class="line">StrictModes yes</span><br><span class="line"><span class="comment">#MaxAuthTries 6</span></span><br><span class="line"><span class="comment">#MaxSessions 10</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>ç„¶åå†åœ¨ç»ˆç«¯è¾“å…¥ä¸€ä¸‹å‘½ä»¤ï¼š<code>/etc/init.d/ssh restart</code>  æ¥é‡å¯sshæœåŠ¡</p><p>é‡æ–°ä½¿ç”¨rootè¿æ¥ï¼Œå°±å¯ä»¥äº†</p></li></ul><h2 id="æ‰¾å‡ºæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®"><a href="#æ‰¾å‡ºæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®" class="headerlink" title="æ‰¾å‡ºæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®"></a>æ‰¾å‡ºæ–‡ä»¶æ‰€åœ¨çš„ä½ç½®</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis sudoersï¼ˆä½ è¦æ‰¾çš„æ–‡ä»¶åï¼‰</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹ç«¯å£å ç”¨å¹¶æ€æ­»-kill"><a href="#æŸ¥çœ‹ç«¯å£å ç”¨å¹¶æ€æ­»-kill" class="headerlink" title="æŸ¥çœ‹ç«¯å£å ç”¨å¹¶æ€æ­»(kill)"></a>æŸ¥çœ‹ç«¯å£å ç”¨å¹¶æ€æ­»(kill)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹</span></span><br><span class="line">sudo netstat -tlnp|grep 9090</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ€æ­»</span></span><br><span class="line"><span class="built_in">kill</span> -9 31540</span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä»Yumåº“ä¸‹è½½rpmåŒ…ä½†ä¸å®‰è£…"><a href="#å¦‚ä½•ä»Yumåº“ä¸‹è½½rpmåŒ…ä½†ä¸å®‰è£…" class="headerlink" title="å¦‚ä½•ä»Yumåº“ä¸‹è½½rpmåŒ…ä½†ä¸å®‰è£…"></a>å¦‚ä½•ä»Yumåº“ä¸‹è½½rpmåŒ…ä½†ä¸å®‰è£…</h2><p>æ–¹æ³•ä¸€ï¼ˆæ¨èï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†ä¸€ä¸ªåŒ…ï¼ˆåŒ…å«æ‰€æœ‰ä¾èµ–ï¼‰ä¸‹è½½åˆ°ä¸€ä¸ªæŒ‡å®šçš„ç›®å½•(å¦‚/opt/gccmkdir/)ï¼š</span></span><br><span class="line">yum install -y gcc --downloadonly --downloaddir=/opt/gccmkdir/</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --resolve è¡¨ç¤ºä¸ºä¸‹è½½ä¾èµ–</span></span><br><span class="line">yumdownloader lsof --resolve --destdir=/data/mydepot/</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰ï¼ˆæ¨èï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠ/etc/yum.confé…ç½®ä¸­çš„keepcache=0å‚æ•°ä¿®æ”¹ä¸ºkeepcache=1</span></span><br><span class="line"><span class="comment"># å†yum ä¸‹è½½ï¼š</span></span><br><span class="line">yum install -y gcc</span><br><span class="line"><span class="comment">#é»˜è®¤æƒ…å†µä¸‹ï¼ŒRPMåŒ…ä¼šä¿å­˜åœ¨ä¸‹é¢çš„ç›®å½•ä¸­:</span></span><br><span class="line">/var/cache/yum/x86_64/[centos/fedora-version]/[repository]/packages</span><br></pre></td></tr></table></figure><h2 id="apt-get-ä¸-yumå®‰è£…æœ‰å•¥åŒºåˆ«"><a href="#apt-get-ä¸-yumå®‰è£…æœ‰å•¥åŒºåˆ«" class="headerlink" title="apt-get ä¸ yumå®‰è£…æœ‰å•¥åŒºåˆ«"></a>apt-get ä¸ yumå®‰è£…æœ‰å•¥åŒºåˆ«</h2><p>rpmåŒ…å’ŒdebåŒ…æ˜¯ä¸¤ç§Linuxç³»ç»Ÿä¸‹æœ€å¸¸è§çš„å®‰è£…åŒ…æ ¼å¼ï¼Œåœ¨å®‰è£…ä¸€äº›è½¯ä»¶æˆ–æœåŠ¡çš„æ—¶å€™å…ä¸äº†è¦å’Œå®ƒä»¬æ‰“äº¤é“ã€‚<br>rpmåŒ…ä¸»è¦åº”ç”¨åœ¨RedHatç³»åˆ—åŒ…æ‹¬ Fedoraç­‰å‘è¡Œç‰ˆçš„Linuxç³»ç»Ÿä¸Šï¼Œ<br>debåŒ…ä¸»è¦åº”ç”¨äºDebianç³»åˆ—åŒ…æ‹¬ç°åœ¨æ¯”è¾ƒæµè¡Œçš„Ubuntuç­‰å‘è¡Œç‰ˆä¸Šã€‚ </p><p>æˆ‘ä»¬çŸ¥é“å¦‚æœè¦å®‰è£…ç°æˆçš„è¿™ä¸¤ç§åŒ…çš„è¯ï¼Œå®‰è£…rpmåŒ…çš„å‘½ä»¤æ˜¯â€œrpm -å‚æ•°â€ï¼Œå®‰è£…debåŒ…çš„å‘½ä»¤æ˜¯â€œdpkg -å‚æ•°â€ã€‚è€ŒLinuxç³»ç»Ÿå¾ˆæ–¹ä¾¿å’Œäººæ€§åŒ–çš„ä¸€ç‚¹å°±æ˜¯å¾ˆå¤šè½¯ä»¶æˆ–æœåŠ¡æ ¹æœ¬å°±ä¸ç”¨æˆ‘ä»¬å»ä¸‹è½½ï¼Œç›´æ¥ä½¿ç”¨ç›¸åº”çš„å‘½ä»¤å°±å¯ä»¥ç®¡ç†äº†ï¼Œå¯èƒ½è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„ â€œäº‘â€çš„æ¦‚å¿µã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yumå¯ä»¥ç”¨äºè¿ä½œrpmåŒ…ï¼Œä¾‹å¦‚åœ¨Fedoraç³»ç»Ÿä¸Šå¯¹æŸä¸ªè½¯ä»¶çš„ç®¡ç†ï¼š</span><br><span class="line">å®‰è£…ï¼šyum install &lt;package_name&gt; </span><br><span class="line">å¸è½½ï¼šyum remove &lt;package_name&gt; </span><br><span class="line">æ›´æ–°ï¼šyum update &lt;package_name&gt;</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-getå¯ä»¥ç”¨äºè¿ä½œdebåŒ…ï¼Œä¾‹å¦‚åœ¨Ubuntuç³»ç»Ÿä¸Šå¯¹æŸä¸ªè½¯ä»¶çš„ç®¡ç†ï¼š</span><br><span class="line">å®‰è£…ï¼šapt-get install &lt;package_name&gt; </span><br><span class="line">å¸è½½ï¼šapt-get remove &lt;package_name&gt; </span><br><span class="line">æ›´æ–°ï¼šapt-get update &lt;package_name&gt;</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…rpmåŒ…"><a href="#å®‰è£…rpmåŒ…" class="headerlink" title="å®‰è£…rpmåŒ…"></a>å®‰è£…rpmåŒ…</h2><p>è¿›å…¥ç³»ç»Ÿä¸‹å­˜æ”¾å¯¹åº”.rpmæ–‡ä»¶çš„ç›®å½•ï¼Œæ‰§è¡Œ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/gccmkdir/</span><br><span class="line">rpm -Uvh *.rpm --nodeps --force</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šrpm -Uvh *.rpm â€“nodeps â€“force</strong></p><ol><li>-Uvhå°±æ˜¯å‡çº§è½¯ä»¶åŒ…â€“Update</li><li>*.rpmå°±æ˜¯æ‰€æœ‰çš„.rpmåŒ…ï¼›</li><li>â€“nodepså°±æ˜¯å®‰è£…æ—¶ä¸æ£€æŸ¥ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚ä½ è¿™ä¸ªrpméœ€è¦Aï¼Œä½†æ˜¯ä½ æ²¡è£…Aï¼Œè¿™æ ·ä½ çš„åŒ…å°±è£…ä¸ä¸Šï¼Œç”¨äº†â€“nodepsä½ å°±èƒ½è£…ä¸Šäº†ï¼›</li><li>â€“forceå°±æ˜¯å¼ºåˆ¶å®‰è£…ï¼Œæ¯”å¦‚ä½ è£…è¿‡è¿™ä¸ªrpmçš„ç‰ˆæœ¬1ï¼Œå¦‚æœä½ æƒ³è£…è¿™ä¸ªrpmçš„ç‰ˆæœ¬2ï¼Œå°±éœ€è¦ç”¨â€“forceå¼ºåˆ¶å®‰è£…ã€‚</li></ol><h2 id="æŸ¥çœ‹Linuxç‰ˆæœ¬æ–¹æ³•"><a href="#æŸ¥çœ‹Linuxç‰ˆæœ¬æ–¹æ³•" class="headerlink" title="æŸ¥çœ‹Linuxç‰ˆæœ¬æ–¹æ³•"></a>æŸ¥çœ‹Linuxç‰ˆæœ¬æ–¹æ³•</h2><p>æ–¹æ³•ä¸€</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lsb_release -a</span></span><br><span class="line">LSB Version:    :core-3.1-ia32:core-3.1-noarch:graphics-3.1-ia32:graphics-3.1-noarch</span><br><span class="line">Distributor ID: CentOS</span><br><span class="line">Description:    CentOS release 5.4 (Final)</span><br><span class="line">Release:        5.4</span><br><span class="line">Codename:       Final</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒ</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cat /etc/redhat-release</span></span><br><span class="line">CentOS release 5.4 (Final)</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rpm -q centos-release</span></span><br><span class="line">centos-release-5-4.el5.centos.1</span><br></pre></td></tr></table></figure><h2 id="linuxè¿è¡ŒjaråŒ…"><a href="#linuxè¿è¡ŒjaråŒ…" class="headerlink" title="linuxè¿è¡ŒjaråŒ…"></a>linuxè¿è¡ŒjaråŒ…</h2><p>è¦è¿è¡Œjavaçš„é¡¹ç›®éœ€è¦å…ˆå°†é¡¹ç›®æ‰“åŒ…æˆwaråŒ…æˆ–è€…jaråŒ…ï¼Œæ‰“åŒ…æˆwaråŒ…éœ€è¦å°†waråŒ…éƒ¨ç½²åˆ°tomcatæœåŠ¡å™¨ä¸Šæ‰èƒ½è¿è¡Œã€‚è€Œæ‰“åŒ…æˆjaråŒ…å¯ä»¥ç›´æ¥ä½¿ç”¨javaå‘½ä»¤æ‰§è¡Œã€‚åœ¨linuxç³»ç»Ÿä¸­è¿è¡ŒjaråŒ…ä¸»è¦æœ‰ä»¥ä¸‹å››ç§æ–¹å¼ã€‚</p><ol><li><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar XXX.jar</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æœ€åŸºæœ¬çš„jaråŒ…æ‰§è¡Œæ–¹å¼ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç”¨ctrl+cä¸­æ–­æˆ–è€…å…³é—­çª—å£æ—¶ï¼Œç¨‹åºä¹Ÿä¼šä¸­æ–­æ‰§è¡Œã€‚</p></li><li><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar XXX.jar &amp;</span><br></pre></td></tr></table></figure><p>&amp;ä»£è¡¨åœ¨åå°è¿è¡Œï¼Œä½¿ç”¨ctrl+cä¸ä¼šä¸­æ–­ç¨‹åºçš„è¿è¡Œï¼Œä½†æ˜¯å…³é—­çª—å£ä¼šä¸­æ–­ç¨‹åºçš„è¿è¡Œã€‚</p></li><li><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar XXX.jar &amp;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ç§æ–¹å¼è¿è¡Œçš„ç¨‹åºæ—¥å¿—ä¼šè¾“å‡ºåˆ°å½“å‰ç›®å½•ä¸‹çš„nohup.outæ–‡ä»¶ï¼Œä½¿ç”¨ctrl+cä¸­æ–­æˆ–è€…å…³é—­çª—å£éƒ½ä¸ä¼šä¸­æ–­ç¨‹åºçš„æ‰§è¡Œã€‚</p></li><li><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup java -jar XXX.jar &gt;temp.out &amp;</span><br></pre></td></tr></table></figure><p>â€˜&gt;temp.outâ€™çš„æ„æ€æ˜¯å°†æ—¥å¿—è¾“å‡ºé‡å®šå‘åˆ°temp.outæ–‡ä»¶ï¼Œä½¿ç”¨ctrl+cä¸­æ–­æˆ–è€…å…³é—­çª—å£éƒ½ä¸ä¼šä¸­æ–­ç¨‹åºçš„æ‰§è¡Œã€‚</p></li></ol><h2 id="XShellä¸Šä¼ ã€ä¸‹è½½æœ¬åœ°æ–‡ä»¶åˆ°linuxæœåŠ¡å™¨"><a href="#XShellä¸Šä¼ ã€ä¸‹è½½æœ¬åœ°æ–‡ä»¶åˆ°linuxæœåŠ¡å™¨" class="headerlink" title="XShellä¸Šä¼ ã€ä¸‹è½½æœ¬åœ°æ–‡ä»¶åˆ°linuxæœåŠ¡å™¨"></a>XShellä¸Šä¼ ã€ä¸‹è½½æœ¬åœ°æ–‡ä»¶åˆ°linuxæœåŠ¡å™¨</h2><p>åœ¨linuxä¸»æœºä¸Šï¼Œå®‰è£…ä¸Šä¼ ä¸‹è½½å·¥å…·åŒ…rzåŠsz; å¦‚æœä¸çŸ¥é“ä½ è¦å®‰è£…åŒ…çš„å…·ä½“åç§°ï¼Œå¯ä»¥ä½¿ç”¨yum provides */name è¿›è¡ŒæŸ¥æ‰¾ç³»ç»Ÿè‡ªå¸¦è½¯ä»¶åŒ…çš„ä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@host ~]<span class="comment"># yum provides */rz</span></span><br><span class="line">...</span><br><span class="line">lrzsz-0.12.20-36.el7.x86_64 : The lrz and lsz modem communications programs</span><br><span class="line">Repo        : base</span><br><span class="line">Matched from:</span><br><span class="line">Filename    : /usr/bin/rz</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬ä¼šåˆ—å‡ºè½¯ä»¶åŒ…çš„åç§°åŠç‰ˆæœ¬ï¼Œè¿˜æœ‰å®‰è£…è·¯å¾„ï¼›æŸ¥è¯¢åˆ°è½¯ä»¶åŒ…ååï¼Œä½¿ç”¨yum install -y åŒ…å è¿›è¡Œå®‰è£…ã€‚</p><p><strong>lrzszåŒ…å®‰è£…å®ŒæˆååŒ…æ‹¬ä¸Šä¼ rzã€ä¸‹è½½szå‘½ä»¤</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@host ~]<span class="comment"># yum install -y lrzsz</span></span><br></pre></td></tr></table></figure><p>ä¸Šä¼ å‘½ä»¤ä¸ºrzï¼›ä¸‹å†å‘½ä»¤ä¸ºsz</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¸Šä¼ ï¼ˆwindows-&gt;linuxï¼‰æ–‡ä»¶-å¼¹å‡ºçª—å£é€‰æ‹©éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line">[root@host ~]<span class="comment"># rz</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŒ‡å®šä¸‹è½½ï¼ˆlinux-&gt;windowsï¼‰å“ªä¸ªæ–‡ä»¶-å¼¹å‡ºçª—å£é€‰æ‹©éœ€è¦ä¿å­˜çš„è·¯å¾„</span></span><br><span class="line">[root@host ~]<span class="comment"># sz æ–‡ä»¶åç§°</span></span><br></pre></td></tr></table></figure><h2 id="ubuntuå®‰è£…sshæœåŠ¡"><a href="#ubuntuå®‰è£…sshæœåŠ¡" class="headerlink" title="ubuntuå®‰è£…sshæœåŠ¡"></a>ubuntuå®‰è£…sshæœåŠ¡</h2><p>SSHåˆ†å®¢æˆ·ç«¯<strong>openssh-client</strong>å’Œ<strong>openssh-server</strong></p><ol><li><p>å¦‚æœä½ åªæ˜¯æƒ³ç™»é™†åˆ«çš„æœºå™¨çš„SSHåªéœ€è¦å®‰è£…openssh-clientï¼ˆubuntuæœ‰é»˜è®¤å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰åˆ™<code>sudo apt-get install openssh-client</code>ï¼‰</p></li><li><p>å¦‚æœè¦ä½¿æœ¬æœºå¼€æ”¾SSHæœåŠ¡å°±éœ€è¦å®‰è£…openssh-serversudoï¼ˆ<code>apt-get install openssh-server</code>ï¼‰</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install openssh-server</span><br></pre></td></tr></table></figure></li></ol><p>æœ‰æ—¶å€™å½“ä½ æ‰§è¡Œ<code>sudo apt-get XXX</code>è¿™ç§å‘½ä»¤æ—¶å‡ºç°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºé”™è¯¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E: Could not get lock /var/lib/dpkg/lock - open (11 Resource temporarily unavailable)</span><br><span class="line">E: Unable to lock the administration directory (/var/lib/dpkg/) is another process using it?</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">E: Could not ge lock /var/lib/apt/lists/lock - open (11: Resource temporarily</span><br><span class="line">unavailable)</span><br><span class="line">E: Unable to lock directory /var/lib/apt/lists/ </span><br><span class="line">E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable) </span><br><span class="line">E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it?</span><br></pre></td></tr></table></figure><p><strong>è§£é‡Š</strong></p><p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ï¼Œè¿˜æœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨<strong>apt-get</strong>è¿›è¡Œä¸‹è½½çš„æ“ä½œã€‚ä½†æ˜¯å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘å°±æ˜¯æ²¡æœ‰æ‰¾åˆ°å…¶ä»–ä½¿ç”¨äº†<strong>apt-get</strong>æŒ‡ä»¤çš„ç»ˆç«¯ç•Œé¢ã€‚é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œéš¾é“è¦é‡æ–°å¯åŠ¨ç”µè„‘å—ï¼Œé‡å¯ç”µè„‘æ˜¯å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æˆ‘æ¥ä¸‹æ¥æ•™ä½ çš„æ–¹æ³•ï¼Œæ‰æ˜¯çœŸæ­£çš„è§£å†³æ–¹æ³•ã€‚</p><p><strong>è§£å†³åŠæ³•</strong></p><p>å…ˆæœç´¢æ‰€æœ‰è¿è¡Œç€çš„çº¿ç¨‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -A | grep apt-get</span><br></pre></td></tr></table></figure><p>ä½ ä¼šå¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root 752  0.0  0.0   4508  1628 ?  Ss 01:13 0:00 /bin/sh /usr/lib/apt/apt.systemd.daily</span><br><span class="line">_apt 2098  0.1  0.1  49572  5524 ?   S    01:18   0:06 /usr/lib/apt/methods/http</span><br><span class="line">aobo 4425  0.0  0.0  18484   980 pts/1    S+   02:13   0:00 grep --color=auto apt</span><br></pre></td></tr></table></figure><p>ç¬¬2åˆ—å°±æ˜¯çº¿ç¨‹å·(kill processnumber)ã€‚æˆ‘ä»¬å°†<strong>apt</strong>ç›¸å…³çš„è¿›ç¨‹ç»™å…³é—­æ‰ï¼Œéœ€è¦ä½¿ç”¨<code>sudo</code>æƒé™ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">kill</span> 2098</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><code>bash: kill: (2098) - Operation not permitted</code></p><p><strong>ç„¶åç¡®è®¤sshserveræ˜¯å¦å¯åŠ¨äº†ï¼š</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -e |grep ssh</span><br></pre></td></tr></table></figure><p>å¦‚æœçœ‹åˆ°sshdé‚£è¯´æ˜ssh-serverå·²ç»å¯åŠ¨äº†</p><h2 id="CentOS7ä¸­æ‰¾ä¸åˆ°ifconfigå’Œnetstatå‘½ä»¤"><a href="#CentOS7ä¸­æ‰¾ä¸åˆ°ifconfigå’Œnetstatå‘½ä»¤" class="headerlink" title="CentOS7ä¸­æ‰¾ä¸åˆ°ifconfigå’Œnetstatå‘½ä»¤"></a>CentOS7ä¸­æ‰¾ä¸åˆ°ifconfigå’Œnetstatå‘½ä»¤</h2><p>æŠŠnet-toolsåŒ…è£…ä¸Šå°±å¥½äº†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install net-tools</span><br></pre></td></tr></table></figure><h2 id="ç”¨ifconfigæˆ–è€…ip-aå‘½ä»¤ï¼Œè·å–ä¸åˆ°IPåœ°å€"><a href="#ç”¨ifconfigæˆ–è€…ip-aå‘½ä»¤ï¼Œè·å–ä¸åˆ°IPåœ°å€" class="headerlink" title="ç”¨ifconfigæˆ–è€…ip aå‘½ä»¤ï¼Œè·å–ä¸åˆ°IPåœ°å€"></a>ç”¨<code>ifconfig</code>æˆ–è€…<code>ip a</code>å‘½ä»¤ï¼Œè·å–ä¸åˆ°IPåœ°å€</h2><p>é—®é¢˜æè¿°ï¼šç”¨<code>ifconfig</code>æˆ–è€…<code>ip a</code>å‘½ä»¤ï¼Œè·å–ä¸åˆ°<code>ip</code>åœ°å€ï¼Œå³ç½‘å¡æœªå¯åŠ¨ï¼Œæ— æ³•ç”¨<code>Xshell</code>è¿œç¨‹è¿æ¥ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ol><li><p>è¿›å…¥<code>/etc/sysconfig/network-scripts</code>ç›®å½•ï¼Œå‘ç°æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª<code>ifcfg-...</code>ï¼Œå³ç½‘å¡ï¼ˆé©±åŠ¨ï¼‰å­˜åœ¨ä½†æœªå¯ç”¨ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /etc/sysconfig/network-scripts</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹<code>/etc/sysconfig/network-scripts/ifcfg-...</code>æ–‡ä»¶ï¼Œ æŠŠ<code>ONBOOT=no</code>æ”¹ä¸º<code>ONBOOT=yes</code>ä¿å­˜é€€å‡º<code>wq</code></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-em1</span><br><span class="line">...</span><br><span class="line"><span class="comment"># æŠŠ`ONBOOT=no`æ”¹ä¸º`ONBOOT=yes`ä¿å­˜é€€å‡º</span></span><br></pre></td></tr></table></figure></li><li><p><code>service network restart</code>é‡å¯ã€‚å‡ºç°ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Restarting network (via systemctl):                        [  ç¡®å®š  ] OK</span><br></pre></td></tr></table></figure></li><li><p>è¾“å…¥<code>ifconfig</code>æˆ–è€…<code>ip a</code>å‘½ä»¤ï¼Œå‡ºç°<code>ip</code>åœ°å€ã€‚ç”¨<code>Xshell</code>è¿æ¥æˆåŠŸã€‚</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¿®æ”¹ç”¨æˆ·å&quot;&gt;&lt;a href=&quot;#ä¿®æ”¹ç”¨æˆ·å&quot; class=&quot;headerlink&quot; title=&quot;ä¿®æ”¹ç”¨æˆ·å&quot;&gt;&lt;/a&gt;ä¿®æ”¹ç”¨æˆ·å&lt;/h2&gt;&lt;p&gt;ä¾‹ï¼šå°†adminæ”¹ä¸ºtestï¼ˆubuntuï¼‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;ä¿®æ”¹-etc-passwdç”¨
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="æŠ€å·§" scheme="/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="é…ç½®" scheme="/tags/%E9%85%8D%E7%BD%AE/"/>
    
      <category term="Ubuntu" scheme="/tags/Ubuntu/"/>
    
      <category term="CentOS" scheme="/tags/CentOS/"/>
    
      <category term="RedHat" scheme="/tags/RedHat/"/>
    
  </entry>
  
</feed>
